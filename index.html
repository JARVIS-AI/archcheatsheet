<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2018-12-07 Fri 23:26 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Arch Linux no DE(Xmonad) install guide</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Nicholas Glazer" />
<meta name="description" content="This is Arch Linux no desktop environment install guide."
 />
<meta name="keywords" content="arch, archlinux, quick reference, cheat sheet, recommended practices, arch intall guide, arch linux manual, no desktop environment, arch cheat sheet, xmonad, xmobar, window manager" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/styles/readtheorg/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/styles/readtheorg/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/styles/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/styles/readtheorg/js/readtheorg.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2018 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">Arch Linux no DE(Xmonad) install guide</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orga072e47">1. Preparations</a>
<ul>
<li><a href="#org8af7708">1.1. Live USB</a>
<ul>
<li><a href="#orgbd70450">1.1.1. BIOS config</a></li>
<li><a href="#org4a75a70">1.1.2. Kernel boot options</a></li>
</ul>
</li>
<li><a href="#org300c6e0">1.2. Changing layout</a></li>
<li><a href="#orgfb43a8e">1.3. Network connection</a></li>
<li><a href="#org35bed82">1.4. Update the system clock</a></li>
<li><a href="#org0ec6b28">1.5. UEFI</a></li>
<li><a href="#org2ee13dd">1.6. Partitioning</a>
<ul>
<li><a href="#org3d12e9a">1.6.1. Disks partitioning</a>
<ul>
<li><a href="#org6f0c9f3">1.6.1.1. SSD</a></li>
<li><a href="#org74e6be8">1.6.1.2. HDD</a></li>
</ul>
</li>
<li><a href="#org0e47124">1.6.2. Mounting the file systems</a></li>
<li><a href="#org674d689">1.6.3. Format the partitions</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org8ff9992">2. Install and configure the system</a>
<ul>
<li><a href="#org3e2e8a4">2.1. Mirrorlist</a></li>
<li><a href="#org0923eba">2.2. Arch base files</a></li>
<li><a href="#org847c471">2.3. Generate and edit fstab file</a></li>
<li><a href="#orged147cd">2.4. Chroot into the system</a></li>
<li><a href="#orgf623d81">2.5. Locale</a></li>
<li><a href="#orgb7b04ba">2.6. Network configuration</a></li>
<li><a href="#org2f2c428">2.7. Add community repositories</a></li>
<li><a href="#orgb807d91">2.8. Password and User</a></li>
<li><a href="#orgb570df1">2.9. Sudoers</a></li>
<li><a href="#org42298a4">2.10. Microcode</a></li>
<li><a href="#org224915a">2.11. Bootloader</a>
<ul>
<li><a href="#org58e28c2">2.11.1. Install refind:</a></li>
<li><a href="#org2f81358">2.11.2. Kernel options</a></li>
<li><a href="#org4ca40da">2.11.3. rEFInd customization</a></li>
</ul>
</li>
<li><a href="#org01c27b1">2.12. Reboot</a></li>
</ul>
</li>
<li><a href="#orgbd160f0">3. Environment</a>
<ul>
<li><a href="#orgd71decb">3.1. Preliminaries (important)</a>
<ul>
<li><a href="#org9ba932d">3.1.1. Establish internet connection</a></li>
<li><a href="#org4e0ab0a">3.1.2. Git</a></li>
<li><a href="#org3f657dd">3.1.3. AUR</a></li>
<li><a href="#org8ddf6ac">3.1.4. Dependencies</a></li>
</ul>
</li>
<li><a href="#org9ebaab9">3.2. GUI</a>
<ul>
<li><a href="#org6a49837">3.2.1. Xorg and friends</a>
<ul>
<li><a href="#org07ed3ea">3.2.1.1. Xinitrc</a></li>
<li><a href="#org0008418">3.2.1.2. Xresources</a></li>
<li><a href="#org2542a13">3.2.1.3. Touchpad</a></li>
<li><a href="#org4682d14">3.2.1.4. Keboard</a></li>
</ul>
</li>
<li><a href="#org3936ecb">3.2.2. Video drivers</a>
<ul>
<li><a href="#org5c12802">3.2.2.1. Nvidia</a></li>
<li><a href="#org17d7e19">3.2.2.2. AMD</a></li>
</ul>
</li>
<li><a href="#org7faeb4f">3.2.3. Window Manager/Desktop Environment</a>
<ul>
<li><a href="#orgfaedc56">3.2.3.1. Xmonad</a></li>
<li><a href="#org43c3a55">3.2.3.2. KDE</a></li>
<li><a href="#orge31765a">3.2.3.3. GNOME</a></li>
</ul>
</li>
<li><a href="#orgc491e5b">3.2.4. Display Manager</a>
<ul>
<li><a href="#orgdcde443">3.2.4.1. Xprofile</a></li>
<li><a href="#org4d1e422">3.2.4.2. SDDM</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org6d994aa">3.3. Networking</a>
<ul>
<li><a href="#org3d2af93">3.3.1. Network Managers</a>
<ul>
<li><a href="#orgaf0024e">3.3.1.1. NetworkManager</a></li>
<li><a href="#org0145e11">3.3.1.2. Connman</a></li>
</ul>
</li>
<li><a href="#org8ac7f35">3.3.2. VPN</a></li>
</ul>
</li>
<li><a href="#org170d0bc">3.4. Multimedia</a>
<ul>
<li><a href="#orga0a4f96">3.4.1. Audio drivers</a></li>
<li><a href="#org1ef4d23">3.4.2. Fonts</a></li>
<li><a href="#orgb3a9550">3.4.3. Media tools</a></li>
<li><a href="#org3c496c7">3.4.4. Browser</a></li>
<li><a href="#org31db7b2">3.4.5. Documents reader</a></li>
<li><a href="#org481f7a0">3.4.6. Screenshots</a></li>
<li><a href="#org1518da2">3.4.7. Social</a></li>
<li><a href="#orgaa4b1eb">3.4.8. Emacs</a></li>
<li><a href="#org69967e3">3.4.9. Torrent tracker</a></li>
<li><a href="#org8683b0f">3.4.10. File management</a></li>
<li><a href="#orgf76fde8">3.4.11. Terminal</a></li>
</ul>
</li>
<li><a href="#org1d8bfbc">3.5. <span class="todo TODO">TODO</span> Programming</a>
<ul>
<li><a href="#org5734ff4">3.5.1. Haskell</a></li>
<li><a href="#orge07b802">3.5.2. ECMAscript</a></li>
</ul>
</li>
<li><a href="#org07c2771">3.6. Xmonad configuration</a>
<ul>
<li><a href="#org591b3e0">3.6.1. Status bar (XMobar)</a></li>
<li><a href="#org4b911ab">3.6.2. Vim</a></li>
<li><a href="#org12e5eee">3.6.3. Terminal emulator</a>
<ul>
<li><a href="#org0ea3ff0">3.6.3.1. zsh</a></li>
<li><a href="#org8544c3f">3.6.3.2. console utilities</a></li>
</ul>
</li>
<li><a href="#org6827020">3.6.4. Program Launcher</a></li>
<li><a href="#org3165dd0">3.6.5. File manager</a></li>
<li><a href="#orga08490b">3.6.6. Notification manager</a></li>
<li><a href="#orgaffa751">3.6.7. Wallpaper</a></li>
<li><a href="#org993835b">3.6.8. PolicyKit</a></li>
</ul>
</li>
<li><a href="#org7721de2">3.7. Laptop specific</a>
<ul>
<li><a href="#org7558be3">3.7.1. Hibernation</a></li>
<li><a href="#orgd8e4af9">3.7.2. Nvidia hybrid graphics</a>
<ul>
<li><a href="#org57b86cb">3.7.2.1. Nvidia settings</a></li>
</ul>
</li>
<li><a href="#orga690d10">3.7.3. Laptop Specific Keybindings</a></li>
</ul>
</li>
<li><a href="#org41137ed">3.8. Power management</a>
<ul>
<li><a href="#orgbf31a5a">3.8.1. systemd-logind</a></li>
<li><a href="#org8941136">3.8.2. TLP</a></li>
<li><a href="#orgf1ffbee">3.8.3. ACPI events</a></li>
<li><a href="#org60f84c7">3.8.4. Laptop Mode Tools</a></li>
<li><a href="#org2d922f0">3.8.5. Diagnosing tools</a></li>
<li><a href="#orgaafd860">3.8.6. Manual config</a>
<ul>
<li><a href="#org9a86b19">3.8.6.1. Audio powersavings</a></li>
<li><a href="#org14d0b0a">3.8.6.2. Blacklisting modules</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="right"><a href="https://github.com/NicholasGlazer/arch-cheat-sheet" class="fa fa-github"> Edit on GitHub</a></div>

<hr />


<div id="org65e6ab6" class="figure">
<p><img src="img/arch-logo.png" alt="arch-logo.png" align="center" />
</p>
</div>
<div id="outline-container-orga072e47" class="outline-2">
<h2 id="orga072e47"><span class="section-number-2">1</span> Preparations</h2>
<div class="outline-text-2" id="text-1">
<p>
It is always good idea to take a look at the <a href="https://wiki.archlinux.org/index.php/installation_guide">arch wiki installation guide</a>.  <br />
</p>
</div>
<div id="outline-container-org8af7708" class="outline-3">
<h3 id="org8af7708"><span class="section-number-3">1.1</span> Live USB</h3>
<div class="outline-text-3" id="text-1-1">
<p>
Assuming that you already have a bootable flash drive. <br />
If not, check <a href="https://wiki.archlinux.org/index.php/disk_cloning">dd</a> and the official website for the arch <a href="https://www.archlinux.org/download/">downloading</a>.
</p>

<p>
For the dualboot system with windows the easiest way to do it is to install Windows first. It will create EFI partition with <code>bootmgr.efi</code> for you. 
</p>
<div class="attention">
<p>
So if you desire to have a dualboot you should install Windows and then continue with arch installation. <br />
If you want solo archlinux skip this. You can use <a href="https://wiki.archlinux.org/index.php/Wine">wine</a> to open <code>.exe</code> files from linux.
</p>

</div>
</div>
<div id="outline-container-orgbd70450" class="outline-4">
<h4 id="orgbd70450"><span class="section-number-4">1.1.1</span> BIOS config</h4>
<div class="outline-text-4" id="text-1-1-1">
<p>
Once it's done, load the flash drive. <br />
Press <code>F2</code> or <code>del</code> to open BIOS menu. <br />
You need to change the boot priority in BIOS. <br />
F10 and reboot.
</p>
</div>
</div>
<div id="outline-container-org4a75a70" class="outline-4">
<h4 id="org4a75a70"><span class="section-number-4">1.1.2</span> Kernel boot options</h4>
<div class="outline-text-4" id="text-1-1-2">
<p>
If you have issues with the tiny fonts or fan speed, you should run the installation with the kernel option which disables console frame buffer. <br />
To make this, when the selection menu appears, press <code>E</code> and type <code>nomodeset</code> at the beginning of the line then press <code>Enter</code>.
</p>
<div class="note">
<p>
You can pass your default kernel options with <a href="#org2f81358">#rEFInd kerenel options</a> later.
</p>

</div>
</div>
</div>
</div>
<div id="outline-container-org300c6e0" class="outline-3">
<h3 id="org300c6e0"><span class="section-number-3">1.2</span> Changing layout</h3>
<div class="outline-text-3" id="text-1-2">
<p>
If you're e.g. a <a href="https://wiki.archlinux.org/index.php/Dvorak">dvorak</a> user, your first step could be changing the keyboard layout:
</p>
<div class="org-src-container">
<pre class="src src-sh">loadkeys dvorak <span style="color: #75715E;"># </span><span style="color: #75715E;">=qwerty= users should skip this step. </span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfb43a8e" class="outline-3">
<h3 id="orgfb43a8e"><span class="section-number-3">1.3</span> Network connection</h3>
<div class="outline-text-3" id="text-1-3">
<p>
After archiso has been booted you may want to make wireless internet connection, wired connection should be done automatically: 
</p>
<div class="org-src-container">
<pre class="src src-sh">wifi-menu
</pre>
</div>
<p>
To check connection:
</p>
<div class="org-src-container">
<pre class="src src-sh">ping -c <span style="color: #AE81FF;">3</span> archlinux.org
</pre>
</div>
</div>
</div>
<div id="outline-container-org35bed82" class="outline-3">
<h3 id="org35bed82"><span class="section-number-3">1.4</span> Update the system clock</h3>
<div class="outline-text-3" id="text-1-4">
<p>
To ensure that system clock is accurate.
</p>
<div class="org-src-container">
<pre class="src src-sh">timedatectrl set-ntp true
</pre>
</div>
<p>
Check the status:
</p>
<div class="org-src-container">
<pre class="src src-sh">timedatectrl status
</pre>
</div>
</div>
</div>
<div id="outline-container-org0ec6b28" class="outline-3">
<h3 id="org0ec6b28"><span class="section-number-3">1.5</span> UEFI</h3>
<div class="outline-text-3" id="text-1-5">
<p>
Lets make sure we're using <a href="https://wiki.archlinux.org/index.php/Unified_Extensible_Firmware_Interface">UEFI</a> mode:
</p>
<div class="org-src-container">
<pre class="src src-sh">ls /sys/firmware/efi/efivars/
or
efivar -l
</pre>
</div>
<p>
If output has some variables, everything is fine. If not, the system may be booted in BIOS or CSM mode.
</p>
</div>
</div>
<div id="outline-container-org2ee13dd" class="outline-3">
<h3 id="org2ee13dd"><span class="section-number-3">1.6</span> Partitioning</h3>
<div class="outline-text-3" id="text-1-6">
<p>
This part could be confusing, so I'll cover some basics here.
</p>

<p>
To check your <a href="https://wiki.archlinux.org/index.php/Partitioning">partition</a> scheme type:
</p>
<div class="org-src-container">
<pre class="src src-sh">lsblk
</pre>
</div>
<p>
You should see at least 1 drive, I have 3 including temporary flash drive:
</p>
<pre class="example">
NAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT
sda      8:0    0   465G  0 disk                   *SSD*
├─sda1   8:1    0   499M  0 part 
├─sda2   8:2    0   100M  0 part /boot          
├─sda3   8:3    0    16M  0 part 
├─sda4   8:4    0   185G  0 part 
└─sda5   8:5    0   200G  0 part /
sdb      8:16   0 931.5G  0 disk                   *HDD*
├─sdb1   8:17   0   400G  0 part /home
├─sdb2   8:18   0    24G  0 part [SWAP]
└─sdb3   8:19   0   508G  0 part 
sdc      8:32   1   7.5G  0 disk                   *Flash Drive*
└─sdc1   8:33   1   7.5G  0 part
</pre>
<div class="tip">
<p>
You should not see any mount points unless you mount partitions to them, we will do it later.
</p>

</div>
</div>
<div id="outline-container-org3d12e9a" class="outline-4">
<h4 id="org3d12e9a"><span class="section-number-4">1.6.1</span> Disks partitioning</h4>
<div class="outline-text-4" id="text-1-6-1">
<p>
If you are doing dual boot system with Windows, then <b>EFI System Partition</b> is created. You must mount it as a <code>/boot</code> for Linux bootloader. <br />
</p>

<p>
If you want to make clean solo arch installation you can wipe your drive:
</p>
<div class="warning">
<p>
This will destroy all the data on chosen drive. <br />
Don't wipe <code>sda</code> if you're making dual boot and have Windows installed.
</p>

</div>
<div class="org-src-container">
<pre class="src src-sh">gdisk /dev/sdX <span style="color: #75715E;"># </span><span style="color: #75715E;">where X is your drive name </span>
</pre>
</div>
<p>
Press <code>RET</code> first, then <code>x</code> for advanced config and <code>z</code> for zap.
And now create a new one:
</p>
<div class="org-src-container">
<pre class="src src-sh">cgdisk /dev/sdX <span style="color: #75715E;"># </span><span style="color: #75715E;">where X is your drive name</span>
</pre>
</div>
<div class="note">
<p>
<a href="https://wiki.archlinux.org/index.php/Gdisk">gdisk</a> is for GPT only, if you need MBR(<i>which is atavism</i>), rather use fdisk or parted because they could cover both GPT and MBR. <br />
It is also possible to <a href="https://wiki.archlinux.org/index.php/Gdisk#Convert_between_MBR_and_GPT">convert between MBR and GPT</a> with gdisk.
</p>

</div>
<div class="tip">
<p>
If you want to create any stacked block devices for LVM, disk encryption or <a href="https://wiki.archlinux.org/index.php/RAID">RAID</a>, do it now.
You also can enable <a href="https://wiki.archlinux.org/index.php/Solid_state_drive#TRIM">TRIM</a> for SSD.
</p>

</div>
</div>
<div id="outline-container-org6f0c9f3" class="outline-5">
<h5 id="org6f0c9f3"><span class="section-number-5">1.6.1.1</span> SSD</h5>
<div class="outline-text-5" id="text-1-6-1-1">
<p>
It's better to use SSD (<code>sda</code> in this case) for the system files where speed is important e.g.: bootloader, programs, et.c.
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">#</th>
<th scope="col" class="org-left">size</th>
<th scope="col" class="org-left">FS type</th>
<th scope="col" class="org-left">mountpoint</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">sda1</td>
<td class="org-left">499M</td>
<td class="org-left">0c01</td>
<td class="org-left">-</td>
</tr>

<tr>
<td class="org-left">sda2</td>
<td class="org-left">100M</td>
<td class="org-left">EF00</td>
<td class="org-left">boot</td>
</tr>

<tr>
<td class="org-left">sda3</td>
<td class="org-left">16M</td>
<td class="org-left">0c01</td>
<td class="org-left">-</td>
</tr>

<tr>
<td class="org-left">sda4</td>
<td class="org-left">185G</td>
<td class="org-left">0700</td>
<td class="org-left">-</td>
</tr>

<tr>
<td class="org-left">sda5</td>
<td class="org-left">200G</td>
<td class="org-left">8300</td>
<td class="org-left">root</td>
</tr>
</tbody>
</table>
<ul class="org-ul">
<li><b>sda1,3</b> Microsoft reserved space.</li>
<li><b>sda2</b> To boot the system it must be exactly <code>EF00</code>. In case of dual boot, Windows will create this partition automatically.</li>
<li><b>sda4</b> Windows partition.</li>
<li><b>sda5</b> I set 200G for the <code>root</code>, but it could be less: ~60-100G should be fine, depends on your needs.</li>
</ul>
</div>
</div>
<div id="outline-container-org74e6be8" class="outline-5">
<h5 id="org74e6be8"><span class="section-number-5">1.6.1.2</span> HDD</h5>
<div class="outline-text-5" id="text-1-6-1-2">
<p>
On the other hand HDD (<code>sdb</code> in this case) could be used as a place for user files e.g.: music, projects, configurations, et.c..
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-right" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">#</th>
<th scope="col" class="org-left">size</th>
<th scope="col" class="org-right">FS type</th>
<th scope="col" class="org-left">mountpoint</th>
<th scope="col" class="org-left">description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">sdb1</td>
<td class="org-left">400G</td>
<td class="org-right">8300</td>
<td class="org-left">home</td>
<td class="org-left">linux file system</td>
</tr>

<tr>
<td class="org-left">sdb2</td>
<td class="org-left">24G</td>
<td class="org-right">8200</td>
<td class="org-left">swap</td>
<td class="org-left">1.5 of my RAM memory (16G)</td>
</tr>

<tr>
<td class="org-left">sdb3</td>
<td class="org-left">508G</td>
<td class="org-right">0700</td>
<td class="org-left">winhome</td>
<td class="org-left">microsoft basic data</td>
</tr>
</tbody>
</table>
<ul class="org-ul">
<li><b>sdb1</b> <code>/home</code> place for your user files.</li>
<li><b>sdb2</b> <code>SWAP</code> depends on your RAM quantity. Usually you should take x1 or x1.5 of your RAM. If you will take less, there is a still a chance of <a href="#org7558be3">#hibernating</a> successfully.</li>
<li><b>sdb3</b>  will contain Windows files.</li>
</ul>
<div class="tip">
<p>
You also have choice to use space to e.g. mount <code>/usr</code> or <code>/var</code>.
</p>

</div>
</div>
</div>
</div>
<div id="outline-container-org0e47124" class="outline-4">
<h4 id="org0e47124"><span class="section-number-4">1.6.2</span> Mounting the file systems</h4>
<div class="outline-text-4" id="text-1-6-2">
<p>
We want to assign <code>/mnt</code> to the <code>root</code> partition:
</p>
<div class="org-src-container">
<pre class="src src-sh">mount /dev/sda5 /mnt
</pre>
</div>
<p>
Next we need to create some new folders in our <code>/mnt</code>:
</p>
<div class="org-src-container">
<pre class="src src-sh">mkdir /mnt/boot
mkdir /mnt/home
</pre>
</div>
<p>
Mount them accordingly:
</p>
<div class="org-src-container">
<pre class="src src-sh">mount /dev/sda2 /mnt/boot
mount /dev/sdb1 /mnt/home
</pre>
</div>
</div>
</div>
<div id="outline-container-org674d689" class="outline-4">
<h4 id="org674d689"><span class="section-number-4">1.6.3</span> Format the partitions</h4>
<div class="outline-text-4" id="text-1-6-3">
<p>
Partitions must be formatted with an appropriate file system:
</p>
<dl class="org-dl">
<dt>SWAP</dt><dd><div class="org-src-container">
<pre class="src src-sh">mkswap /dev/sdb2
swapon /dev/sdb2
</pre>
</div></dd>
<dt>Linux</dt><dd><div class="org-src-container">
<pre class="src src-sh">mkfs.ext4 /dev/sda5
mkfs.ext4 /dev/sdb1
</pre>
</div>
<div class="tip">
<p>
Press <code>y</code> if you have this warning: <code>/dev/sdxY contains a ext4 file system</code>
</p>

</div></dd>
<dt>/boot</dt><dd><div class="attention">
<p>
<b>You already have EFI partition if you have Windows installed</b>
</p>

</div>
<p>
Boot must be Fat32 as UEFI requirement.
</p>
<div class="org-src-container">
<pre class="src src-sh">mkfs.fat -F32 /dev/sda1
</pre>
</div></dd>
</dl>
</div>
</div>
</div>
</div>
<div id="outline-container-org8ff9992" class="outline-2">
<h2 id="org8ff9992"><span class="section-number-2">2</span> Install and configure the system</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org3e2e8a4" class="outline-3">
<h3 id="org3e2e8a4"><span class="section-number-3">2.1</span> Mirrorlist</h3>
<div class="outline-text-3" id="text-2-1">
<p>
On the live system all mirrors are enabled, and sorted by their synchronization status and speed at the time the installation was created.
</p>
<div class="tip">
<p>
Still sometimes you may want to <a href="https://wiki.archlinux.org/index.php/Mirrors#Soring_mirrors">sort mirrors</a>.
</p>

</div>
<p>
The higher a mirror is placed in the list, the more priority it is given when downloading a package.
So it's better to check this file and edit it with geographically closest mirrors on the top.
</p>
<div class="org-src-container">
<pre class="src src-sh">vim /etc/pacman.d/mirrorlist
</pre>
</div>
<p>
The file you edited will be copied with <code>pacstrap</code> later.
</p>
<hr />
<p>
<a href="#org4b911ab">#Vim</a> should already be installed. It could be your first time you editing with vim, so navigation helpers below:
</p>
<div class="note">
<ul class="org-ul">
<li>press <code>esc</code> to make sure you are in <b>command mode</b></li>
<li><code>h</code> <code>j</code> <code>k</code> <code>l</code> for navigating</li>
<li>by pressing <code>v</code> you will enter <b>visual mode</b> or <b>visual line mode</b> by pressing <code>shift + v</code></li>
<li>then you can paste it with <code>p</code></li>
<li>select what you need to cut and type <code>dd</code></li>
<li>to save and exit press <code>esc</code> and type <code>:wq</code> (you will see this letters on the very bottom)</li>
</ul>

</div>
<p>
If you don't want to spent time learning this powerfull tool (which I highly recommend), you have several other options including <a href="https://wiki.archlinux.org/index.php/nano">nano</a>.
</p>
<div class="note">
<p>
To use nano you should at least know how to save and exit:
</p>
<ul class="org-ul">
<li>ctrl+o (save)</li>
<li>ctrl+x (exit)</li>
</ul>

</div>
</div>
</div>
<div id="outline-container-org0923eba" class="outline-3">
<h3 id="org0923eba"><span class="section-number-3">2.2</span> Arch base files</h3>
<div class="outline-text-3" id="text-2-2">
<p>
Now install base packages to our assigned <code>root</code>.
</p>
<div class="org-src-container">
<pre class="src src-sh">pacstrap /mnt base base-devel git wpa_supplicant
</pre>
</div>
<p>
In this step you also may want to install additional packages like <a href="#org4e0ab0a">git</a> or <a href="https://www.gnu.org/software/wget/">wget</a>.
I also recommend to install<a href="https://wiki.archlinux.org/index.php/WPA_supplicant"> wpa<sub>supplicant</sub></a> in case you will use wireless connection. You can pick preferred <a href="https://wiki.archlinux.org/index.php/Network_configuration#Network_managers">network manager</a> later.
</p>
</div>
</div>
<div id="outline-container-org847c471" class="outline-3">
<h3 id="org847c471"><span class="section-number-3">2.3</span> Generate and edit fstab file</h3>
<div class="outline-text-3" id="text-2-3">
<p>
Generate the new fstab:
</p>
<div class="org-src-container">
<pre class="src src-sh">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab
</pre>
</div>
<p>
And check if everything is correct:
</p>
<div class="org-src-container">
<pre class="src src-sh">vim /mnt/etc/fstab
</pre>
</div>
<div class="warning">
<p>
This is very important to check your <code>/mnt/etc/fstab</code> file, because you will not be able to run system properly.
</p>

</div>
<p>
You should see something like this:
</p>
<pre class="example">
# &lt;file system by UUID&gt;                         &lt;dir&gt;  &lt;type&gt;   &lt;options&gt;       &lt;dump&gt;  &lt;fsck&gt;
UUID=XXXX-XXXX                                  /boot   vfat    defaults        0       2
UUID=XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX       /       ext4    defaults        0       1
UUID=XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX       /home   ext4    defaults        0       2
UUID=XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX       none    swap    defaults        0       0
</pre>
</div>
</div>
<div id="outline-container-orged147cd" class="outline-3">
<h3 id="orged147cd"><span class="section-number-3">2.4</span> Chroot into the system</h3>
<div class="outline-text-3" id="text-2-4">
<p>
Switch into root with the new system:
</p>
<div class="org-src-container">
<pre class="src src-sh">arch-chroot /mnt
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf623d81" class="outline-3">
<h3 id="orgf623d81"><span class="section-number-3">2.5</span> Locale</h3>
<div class="outline-text-3" id="text-2-5">
<p>
Uncomment needed locales e.g. <code>en_US.UTF-8 UTF-8</code>:
</p>
<div class="org-src-container">
<pre class="src src-sh">vim /etc/locale.gen
</pre>
</div>
<p>
And generate them:
</p>
<div class="org-src-container">
<pre class="src src-sh">locale-gen
</pre>
</div>
<p>
Also add <code>LANG</code> variable:
</p>
<div class="org-src-container">
<pre class="src src-sh">cat &gt; /etc/locale.conf
<span style="color: #F92672;">echo</span> <span style="color: #E6DB74;">"LANG=en_US.UTF-8"</span> &gt; /etc/locale.conf
</pre>
</div>
<p>
For e.g. dvorak users to make layout persistent:
</p>
<div class="org-src-container">
<pre class="src src-sh">cat &gt; /etc/vconsole.conf
<span style="color: #F92672;">echo</span> <span style="color: #E6DB74;">"KEYMAP=dvorak"</span> &gt; /etc/vconsole.conf
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb7b04ba" class="outline-3">
<h3 id="orgb7b04ba"><span class="section-number-3">2.6</span> Network configuration</h3>
<div class="outline-text-3" id="text-2-6">
<p>
<a href="https://en.wikipedia.org/wiki/Hostname">Hostname</a> is a unique name created to identify a machine on a network. <br />
</p>
<dl class="org-dl">
<dt>Basic method that <b>working in arch-chroot</b>.</dt><dd><p>
       Replace <code>uniquename</code> with anything you want:
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #F92672;">echo</span> uniquename &gt; /etc/hostname
</pre>
</div></dd>
</dl>

<div class="hint">
<p>
Later you will see something like <code>user@uniquename</code>
</p>

</div>
<div class="attention">
<p>
You will be able to generate hostname with <code>hostnamectl</code> later. This method is <b>not working in arch-chroot</b>.
</p>
<div class="org-src-container">
<pre class="src src-sh">hostnamectl set-hostname myhostname
</pre>
</div>

</div>
<p>
Add matching entries to the hosts:
</p>
<div class="org-src-container">
<pre class="src src-sh">vim /etc/hosts
</pre>
</div>
<pre class="example">
127.0.0.1     localhost
::1           localhost
127.0.1.1     uniquename.localdomain uniquename
</pre>
<p>
If the system has a permanent IP address, it should be used instead of <code>127.0.1.1</code> <br />
See more in <a href="https://wiki.archlinux.org/index.php/Network_configuration">network configuration</a>.
</p>
</div>
</div>
<div id="outline-container-org2f2c428" class="outline-3">
<h3 id="org2f2c428"><span class="section-number-3">2.7</span> Add community repositories</h3>
<div class="outline-text-3" id="text-2-7">
<p>
Enabling <b>multilib</b> for the arch community repositories.
</p>
<div class="attention">
<p>
<code>multilib</code> is for 64bit system.
</p>

</div>
<p>
To do this open the <code>pacman.conf</code> file:
</p>
<div class="org-src-container">
<pre class="src src-sh">vim /etc/pacman.conf
</pre>
</div>
<p>
Uncomment this:
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #75715E;">#</span><span style="color: #75715E;">[multilib]</span>
<span style="color: #75715E;">#</span><span style="color: #75715E;">Include = /etc/pacman.d/mirrorlist</span>
</pre>
</div>
<div class="tip">
<p>
You also may add <a href="https://wiki.archlinux.org/index.php/Unofficial_user_repositories">unofficial repositories</a> with caution.
</p>
<ul class="org-ul">
<li>To have pacman animation add this under the 'Misc options':</li>
</ul>
<div class="org-src-container">
<pre class="src src-org">ILoveCandy
</pre>
</div>
<ul class="org-ul">
<li>You will need 'Color' option for <a href="#org3f657dd">#yay</a> later.</li>
</ul>

</div>
<p>
And update the system. We should <a href="https://wiki.archlinux.org/index.php/mirrors#Force_pacman_to_refresh_the_package_lists">let system know about the changes</a>.
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman -Syyu
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb807d91" class="outline-3">
<h3 id="orgb807d91"><span class="section-number-3">2.8</span> Password and User</h3>
<div class="outline-text-3" id="text-2-8">
<dl class="org-dl">
<dt>Root password</dt><dd><div class="org-src-container">
<pre class="src src-sh">passwd
</pre>
</div></dd>
<dt>User password</dt><dd><p>
       You should add at least one user. <br />
Replace <code>username</code> with preferred one:
</p>
<div class="org-src-container">
<pre class="src src-sh">useradd -m -g users -G wheel,storage,power -s /bin/bash username
</pre>
</div>
<p>
And set password for a new user:
</p>
<div class="org-src-container">
<pre class="src src-sh">passwd username
</pre>
</div></dd>
</dl>
</div>
</div>
<div id="outline-container-orgb570df1" class="outline-3">
<h3 id="orgb570df1"><span class="section-number-3">2.9</span> Sudoers</h3>
<div class="outline-text-3" id="text-2-9">
<div class="warning">
<p>
Read about <a href="https://wiki.archlinux.org/index.php/Sudo#Using_visudo">visudo</a> before editing!
Any errors makes <b>sudo</b> unusable. <b>Always</b> edit <code>/etc/sudoers</code> file with visudo to prevent errors.
</p>

</div>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #FD971F;">EDITOR</span>=vim visudo
</pre>
</div>
<p>
Since you added user to the <code>wheel</code> group, user will gain full root privileges, you need to uncomment this line:
</p>
<div class="org-src-container">
<pre class="src src-org">%wheel ALL=(ALL) ALL
</pre>
</div>
<div class="note">
<p>
If you are using a server or someone else has access to the wheel group. <br />
You may want to require sudoers to type root password. <br />
In this case add this line:
</p>
<div class="org-src-container">
<pre class="src src-org">Defaults rootpw
</pre>
</div>
<p>
Read more about <a href="https://wiki.archlinux.org/index.php/Sudo#Root_password">root password</a>.
</p>

</div>
</div>
</div>
<div id="outline-container-org42298a4" class="outline-3">
<h3 id="org42298a4"><span class="section-number-3">2.10</span> Microcode</h3>
<div class="outline-text-3" id="text-2-10">
<p>
You should enable <a href="https://wiki.archlinux.org/index.php/microcode#systemd-boot">microcode</a> updates, my laptop has intel CPU:
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman -S intel-ucode
</pre>
</div>
<div class="hint">
<p>
Install <code>amd-ucode</code> if you have AMD CPU.
</p>

</div>
</div>
</div>
<div id="outline-container-org224915a" class="outline-3">
<h3 id="org224915a"><span class="section-number-3">2.11</span> Bootloader</h3>
<div class="outline-text-3" id="text-2-11">
<p>
You have different choices like <a href="https://wiki.archlinux.org/index.php/systemd-boot#Standard_root_installations">systemd-boot</a> or <a href="https://wiki.archlinux.org/index.php/GRUB">grub</a>. <br />
For the dual boot I'm using <a href="https://wiki.archlinux.org/index.php/REFInd">rEFInd</a>:
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman -S refind-efi
</pre>
</div>

<div class="figure">
<p><img src="img/refind.png" alt="refind.png" />
</p>
<p><span class="figure-number">Figure 2: </span>After customization should look like this.</p>
</div>
</div>
<div id="outline-container-org58e28c2" class="outline-4">
<h4 id="org58e28c2"><span class="section-number-4">2.11.1</span> Install refind:</h4>
<div class="outline-text-4" id="text-2-11-1">
<p>
REFInd will automatically find your EFI System Partition (ESP) with installation script.
You can use <code>refind-install</code> script with <code>--root</code> flag to help install it from a "live CD" or other emergency system, <br />
notice that your <code>/boot</code> partition should be mounted. 
</p>
<div class="hint">
<p>
It's a common practice to use <code>man</code> utility to learn more about the particular program.
So if you need more options like <code>--alldrivers</code>, feel free to check it with <code>man</code>. 
</p>
<div class="org-src-container">
<pre class="src src-sh">man refind-install
</pre>
</div>

</div>
<p>
Run the script:
</p>
<div class="org-src-container">
<pre class="src src-sh">refind-install
</pre>
</div>
</div>
</div>
<div id="outline-container-org2f81358" class="outline-4">
<h4 id="org2f81358"><span class="section-number-4">2.11.2</span> Kernel options</h4>
<div class="outline-text-4" id="text-2-11-2">
<p>
You should place your <code>refind_linux.conf</code> file in the same directory as your kernel. <br />
And the basic config to run the system could look like this:
</p>
<pre class="example">
## This file should be present in the same directory as the EFISTUB kernel and initramfs files
## More info at http://www.rodsbooks.com/refind/linux.html , http://www.rodsbooks.com/efi-bootloaders/efistub.html

"Boot with defaults"    	"root=PARTUUID=XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX rootfstype=ext4 rw add_efi_memmap initrd=/intel-ucode.img initrd=/initramfs-linux.img"
</pre>
<div class="hint">
<p>
There are several ways to findout your PARTUUID, one of them is:
</p>
<div class="org-src-container">
<pre class="src src-sh">blkid -s PARTUUID -o value /dev/sdxY <span style="color: #75715E;">#</span><span style="color: #75715E;">Where 'x' is the disk letter and 'Y' is the partition number.</span>
</pre>
</div>
<p>
In this guide root assigned to sda5.
</p>

</div>
<p>
Also, to set the default boot OS based on the loader's title, which appears in the main menu beneath the icons when you select the loader by uncommenting or adding:
</p>
<div class="org-src-container">
<pre class="src src-sh">default_selection <span style="color: #E6DB74;">"+,vmlinuz"</span>
</pre>
</div>
<p>
Notice that you can put custom kernel options here, e.g.: I'm using <code>acpi_osi=! acpi_osi="Windows 2009" acpi_backlight=native</code> for my <a href="https://wiki.archlinux.org/index.php/ASUS_Zenbook_Pro_UX501">Zenbook Pro UX501VM</a> because of <a href="https://wiki.archlinux.org/index.php/NVIDIA_Optimus#Lockup_issue_.28lspci_hangs.29">known Nvidia issue</a>. <br />
And <code>nmi_watchdog=0</code> to disable watchdog for the energy savings. <br />
Make space for <a href="#org7558be3">#hibernation</a>.
</p>
<div class="warning">
<p>
For novice linux users it's better to learn more about <a href="https://wiki.archlinux.org/index.php/Kernel">kernel</a> and re-check how to pass parameters <a href="https://wiki.archlinux.org/index.php/REFInd#Passing_kernel_parameters">in rEFInd</a>.
</p>

</div>
</div>
</div>
<div id="outline-container-org4ca40da" class="outline-4">
<h4 id="org4ca40da"><span class="section-number-4">2.11.3</span> rEFInd customization</h4>
<div class="outline-text-4" id="text-2-11-3">
<p>
You have ability to use themes in rEFInd. I'm using <a href="https://github.com/EvanPurkhiser/rEFInd-minimal">refind-minimal</a> theme. You will need to setup <a href="#org4e0ab0a">#git</a> first.
</p>
<dl class="org-dl">
<dt>Create a folder called <code>themes</code> in the same directory with <code>refind.conf</code></dt><dd><div class="org-src-container">
<pre class="src src-sh">mkdir themes
<span style="color: #F92672;">cd</span> themes
</pre>
</div></dd>
<dt>(no term)</dt><dd><p>
Clone theme repository:: 
</p>
<div class="org-src-container">
<pre class="src src-sh">git clone https://github.com/EVanPurkhiser/rEFInd-minimal.git
</pre>
</div></dd>
<dt>(no term)</dt><dd>To enable the theme add <code>include themes/rEFInd-minimal/theme.conf</code> in the end of <code>refind.conf</code>::</dd>
</dl>
</div>
</div>
</div>
<div id="outline-container-org01c27b1" class="outline-3">
<h3 id="org01c27b1"><span class="section-number-3">2.12</span> Reboot</h3>
<div class="outline-text-3" id="text-2-12">
<p>
Exit the chroot environment and reboot the system:
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #F92672;">exit</span>
umount -R /mnt
reboot
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgbd160f0" class="outline-2">
<h2 id="orgbd160f0"><span class="section-number-2">3</span> Environment</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-orgd71decb" class="outline-3">
<h3 id="orgd71decb"><span class="section-number-3">3.1</span> Preliminaries (important)</h3>
<div class="outline-text-3" id="text-3-1">
<p>
This part depends on your personal choices, which means you have very different options to create the system of your dream. <br />
</p>
<hr />
<p>
It could be very useful to collect your configs in one place, usually people call them dotfiles. <br />
It allows you to share your configs across other machines, distros or community :). <br />
</p>

<p>
Here you can find different <a href="https://wiki.archlinux.org/index.php/Dotfiles">dotfiles</a> for all tastes. You also can check my <a href="https://github.com/NicholasGlazer/dotfiles">dotfiles</a>.
</p>
<div class="hint">
<p>
Wise idea will be to take a look at <a href="https://wiki.archlinux.org/index.php/General_recommendations">Arch general recommendations</a>.
</p>

</div>
</div>
<div id="outline-container-org9ba932d" class="outline-4">
<h4 id="org9ba932d"><span class="section-number-4">3.1.1</span> Establish internet connection</h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
Since you installed <a href="#org0923eba">#wpa<sub>supplicant</sub></a> you have ability to establish wireless connection. <br />
This commands will allow you to establish temporary connection untill reboot.
</p>
<div class="note">
<div class="attention">
<p>
Because of the process substitution, you cannot run this command with sudo and must use a root shell:
</p>

</div>
<div class="org-src-container">
<pre class="src src-sh">wpa_supplicant -B -i /interface/ -c &lt;<span style="color: #AE81FF;">(</span>wpa_passphrase /SSID/ /passpharase/<span style="color: #AE81FF;">)</span>
dhcpcd /interface/
</pre>
</div>
<p>
Don't forget to change user:
</p>
<div class="org-src-container">
<pre class="src src-sh">su username
</pre>
</div>

</div>
<div class="note">
<p>
To discover your <i>interface</i> type this:
</p>
<div class="org-src-container">
<pre class="src src-sh">lspci -k
ip link
</pre>
</div>
<p>
It usually starts with <code>w</code>. <br />
Check <a href="https://wiki.archlinux.org/index.php/Wireless_network_configuration#Check_the_driver_status">wireless configuration</a> if you have any problems.
</p>

</div>
</div>
</div>
<div id="outline-container-org4e0ab0a" class="outline-4">
<h4 id="org4e0ab0a"><span class="section-number-4">3.1.2</span> Git</h4>
<div class="outline-text-4" id="text-3-1-2">
<p>
In order to use <a href="https://git-scm.com/doc">git</a>, you need to set at least name and email:
</p>
<div class="org-src-container">
<pre class="src src-sh">git config --global user.name <span style="color: #E6DB74;">"John Doe"</span>
git config --global user.email <span style="color: #E6DB74;">"johndoe@example.com"</span>
git config --global core.editor emacs
</pre>
</div>
<p>
For user-specific configuration I'm using <code>~/.config/git/config</code>. 
</p>
<div class="attention">
<p>
Emacs and vim are popular text editors used by developers. And highly recommended by author of this guide. <br />
If you not familiar with emacs, you may need to search for specific instructions for how to set up your favorite editor with Git.
</p>

</div>
<p>
You can read official <a href="https://git-scm.com/book/en/v2/Getting-Started-Fist-Time-Git-Setup">First-Time Git Setup</a> guide.
</p>
</div>
</div>
<div id="outline-container-org3f657dd" class="outline-4">
<h4 id="org3f657dd"><span class="section-number-4">3.1.3</span> AUR</h4>
<div class="outline-text-4" id="text-3-1-3">
<p>
You can read more about <a href="https://wiki.archlinux.org/index.php/Arch_User_Repository">Arch User Repository</a>. <br />
Suggest to install <a href="https://github.com/Jguer/yay">yay</a> . <br />
</p>
<div class="note">
<p>
With <a href="https://wiki.archlinux.org/index.php/AUR_helpers#Comparison_table">AUR helpers comparison table</a> you can choose <i>AUR wrapper</i> by your taste.
</p>

</div>
<p>
Clone with git and install with <a href="https://wiki.archlinux.org/index.php/Makepkg">makepkg</a>:
</p>
<div class="org-src-container">
<pre class="src src-sh">git clone https://aur.archlinux.org/yay.git
 <span style="color: #F92672;">cd</span> yay
 makepkg -si
 <span style="color: #F92672;">cd</span> .. &amp;&amp; rm -rf yay
 yay -Ps    <span style="color: #75715E;">#</span><span style="color: #75715E;">print system stats</span>
</pre>
</div>
<div class="note">
<p>
Yay depends on <a href="https://github.com/golang/go">go</a>. If you have no plans to use it, feel free to clean it with yay:
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -Yc    <span style="color: #75715E;">#</span><span style="color: #75715E;">this command will clean unneeded dependencies</span>
</pre>
</div>

</div>
</div>
</div>
<div id="outline-container-org8ddf6ac" class="outline-4">
<h4 id="org8ddf6ac"><span class="section-number-4">3.1.4</span> Dependencies</h4>
<div class="outline-text-4" id="text-3-1-4">
<p>
Unsorted dependencies to install:
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S openssh htop dex screenfetch
</pre>
</div>
<div class="attention">
<p>
If you're installing packages form AUR and you trust them, you can use <code>--noconfirm</code> flag to auto-install packages. <br />
But you still may want to check build scripts sometimes ;).
</p>

</div>
</div>
</div>
</div>
<div id="outline-container-org9ebaab9" class="outline-3">
<h3 id="org9ebaab9"><span class="section-number-3">3.2</span> GUI</h3>
<div class="outline-text-3" id="text-3-2">
</div>
<div id="outline-container-org6a49837" class="outline-4">
<h4 id="org6a49837"><span class="section-number-4">3.2.1</span> Xorg and friends</h4>
<div class="outline-text-4" id="text-3-2-1">
<p>
<a href="https://wiki.archlinux.org/index.php/Xorg#General">Xorg</a> is the most popular display server among Linux users. You can find my X config in <code>.dotfiles/X11</code>.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -Ss xorg xorg-xinit xorg-xmodmap xterm
</pre>
</div>
</div>
<div id="outline-container-org07ed3ea" class="outline-5">
<h5 id="org07ed3ea"><span class="section-number-5">3.2.1.1</span> Xinitrc</h5>
<div class="outline-text-5" id="text-3-2-1-1">
<div class="attention">
<p>
When/if you enable <a href="#orgc491e5b">#display manager</a> it will run your WM/DE as a session and most of them are using <a href="#orgdcde443">#Xprofile</a>. <br />
You can also run <a href="https://wiki.archlinux.org/index.php/Display_manager#Session_configuration">xinit as a session</a>, or even a standalone browser.
</p>

</div>
<p>
You can copy the default <a href="https://wiki.archlinux.org/index.php/Xinit#xinitrc">xinitrc</a> file from <code>/etc/X11/xinit/xinitrc</code>, <br />
you should edit it before execution, since we didn't install <code>twm</code> and <code>xorg-xclock</code>:
</p>
<div class="org-src-container">
<pre class="src src-sh">cp /etc/X11/xinit/xinitrc ~/.xinitrc
</pre>
</div>
<p>
You can execute xmonad or any other WM/DE with <code>.xinitrc</code> as simple as:
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #75715E;">#</span><span style="color: #75715E;">!/bin/</span><span style="color: #F92672;">sh</span>
<span style="color: #F92672;">exec</span> xmonad
</pre>
</div>
<div class="note">
<p>
To execute <code>.xinitrc</code> run <code>startx</code> or <code>xinit</code>. //
</p>

</div>
</div>
</div>
<div id="outline-container-org0008418" class="outline-5">
<h5 id="org0008418"><span class="section-number-5">3.2.1.2</span> Xresources</h5>
<div class="outline-text-5" id="text-3-2-1-2">
<p>
<a href="https://wiki.archlinux.org/index.php/X_resources">~/.Xresources</a> file is useful if you want to add a color theme for some X applications, or configure X fonts appearance, or e.g. change the Xcursor theme. <br />
Check <a href="https://wiki.archlinux.org/index.php/Color_output_in_console#Using_X_resources">wiki examples</a>. You also can check my <a href="https://github.com/nicholasglazer/dotfiles/blob/master/.Xresources">config</a>.
</p>
<div class="note">
<p>
Most Display managers load the ~/.Xresources file on login.
</p>

</div>
</div>
</div>
<div id="outline-container-org2542a13" class="outline-5">
<h5 id="org2542a13"><span class="section-number-5">3.2.1.3</span> Touchpad</h5>
<div class="outline-text-5" id="text-3-2-1-3">
<div class="attention">
<p>
Laptop specific configuration.
</p>

</div>
<p>
For touchpad <a href="https://wiki.archlinux.org/index.php/Libinput#Via_Xorg_configuration_file">tap-to-click </a>edit <code>/X11/xorg.conf.d/30-touchpad.conf</code> you can also find it in my <a href="https://github.com/NicholasGlazer/dotfiles">dotfiles</a>.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S xf86-input-libinput
</pre>
</div>
</div>
</div>
<div id="outline-container-org4682d14" class="outline-5">
<h5 id="org4682d14"><span class="section-number-5">3.2.1.4</span> Keboard</h5>
<div class="outline-text-5" id="text-3-2-1-4">
<p>
If you want to indicate that the current keymap table should be printed on the standard output in the form of expressions that can be fed back to xmodmap. <br />
</p>
<div class="org-src-container">
<pre class="src src-sh">xmodmap -pke &gt; ~/.Xmodmap
</pre>
</div>
<div class="hint">
<p>
To temporary change your keyboard layout:
</p>
<div class="org-src-container">
<pre class="src src-sh">setxkbmap dvorak
</pre>
</div>

</div>
</div>
</div>
</div>
<div id="outline-container-org3936ecb" class="outline-4">
<h4 id="org3936ecb"><span class="section-number-4">3.2.2</span> Video drivers</h4>
<div class="outline-text-4" id="text-3-2-2">
<p>
Check your video card first: 
</p>
<div class="org-src-container">
<pre class="src src-sh">lspci | grep -e VGA -e <span style="color: #AE81FF;">3D</span>
</pre>
</div>
</div>
<div id="outline-container-org5c12802" class="outline-5">
<h5 id="org5c12802"><span class="section-number-5">3.2.2.1</span> Nvidia</h5>
<div class="outline-text-5" id="text-3-2-2-1">
<p>
If you have <a href="https://wiki.archlinux.org/index.php/NVIDIA">NVIDIA</a> card, follow this archor - <a href="#orgd8e4af9">#Nvidia hybrid graphics</a>.
</p>
</div>
</div>
<div id="outline-container-org17d7e19" class="outline-5">
<h5 id="org17d7e19"><span class="section-number-5">3.2.2.2</span> AMD</h5>
<div class="outline-text-5" id="text-3-2-2-2">
<p>
If you have <a href="https://wiki.archlinux.org/index.php/ATI">ATI</a>(AMD) card, your installation could be pretty easy, just follow the wiki.
</p>
</div>
</div>
</div>
<div id="outline-container-org7faeb4f" class="outline-4">
<h4 id="org7faeb4f"><span class="section-number-4">3.2.3</span> Window Manager/Desktop Environment</h4>
<div class="outline-text-4" id="text-3-2-3">
<p>
For Linux newcomers better decision could be to try <a href="https://wiki.archlinux.org/index.php/Desktop_environment">desktop environment</a> like <a href="https://wiki.archlinux.org/index.php/KDE">KDE</a> or <a href="https://wiki.archlinux.org/index.php/GNOME">GNOME</a> first. <br />
However you could install multiple <a href="https://wiki.archlinux.org/index.php/Desktop_environment">Window Managers</a> or DE and change them <a href="https://wiki.archlinux.org/index.php/Xinit#Switching_between_desktop_environments/window_managers">with this script</a> or with <a href="#orgc491e5b">display manager</a>. <br />
It is also possible to replace default DE's window manager with desired one, e.g.: <a href="https://wiki.haskell.org/Xmonad/Using_xmonad_in_KDE">xmonad in KDE</a>. <br />
</p>
</div>
<div id="outline-container-orgfaedc56" class="outline-5">
<h5 id="orgfaedc56"><span class="section-number-5">3.2.3.1</span> Xmonad</h5>
<div class="outline-text-5" id="text-3-2-3-1">
<p>
My favorite tiling window manager, spending most of my time with it. <br />
See <a href="#org07c2771">#Xmonad configuration</a>.
</p>
</div>
<ol class="org-ol">
<li><a id="org276c3f8"></a>Xmonad with KDE<br />
<div class="outline-text-6" id="text-3-2-3-1-1">
<p>
Install <a href="#org43c3a55">#KDE</a> first.
Create a directory ~/.config/plasma-workspace/env if it does not already exist. Create a file there called <code>set_window_manager.sh</code> and add this:
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #F92672;">export</span> <span style="color: #FD971F;">KDEWM</span>=/usr/bin/xmonad
</pre>
</div>
<p>
Restart your session and enjoy xmonad with KDE.
</p>
<div class="attention">
<p>
You should have <a href="#org07c2771">#xmonad config</a> in <code>~/.xmonad/xmonad.hs</code>.
</p>

</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-org43c3a55" class="outline-5">
<h5 id="org43c3a55"><span class="section-number-5">3.2.3.2</span> KDE</h5>
<div class="outline-text-5" id="text-3-2-3-2">
<p>
Read more about <a href="https://wiki.archlinux.org/index.php/KDE">KDE5</a>.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S plasma kde-applications kdeconnect powerdevil
sudo systemctl enable sddm.service <span style="color: #75715E;"># </span><span style="color: #75715E;">enable KDE login manager</span>
reboot
</pre>
</div>
</div>
</div>
<div id="outline-container-orge31765a" class="outline-5">
<h5 id="orge31765a"><span class="section-number-5">3.2.3.3</span> GNOME</h5>
<div class="outline-text-5" id="text-3-2-3-3">
<p>
Read more about <a href="https://wiki.archlinux.org/index.php/GNOME">GNOME</a>.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S gnome gnome-extra
sudo systemctl enable gdm.service <span style="color: #75715E;"># </span><span style="color: #75715E;">enable GNOME login manager</span>
reboot
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgc491e5b" class="outline-4">
<h4 id="orgc491e5b"><span class="section-number-4">3.2.4</span> Display Manager</h4>
<div class="outline-text-4" id="text-3-2-4">
</div>
<div id="outline-container-orgdcde443" class="outline-5">
<h5 id="orgdcde443"><span class="section-number-5">3.2.4.1</span> Xprofile</h5>
<div class="outline-text-5" id="text-3-2-4-1">
<p>
<a href="https://wiki.archlinux.org/index.php/Xprofile">Xprofile</a> allows you to execute commands at the beginning of the X user session. It is similar to <a href="#org07ed3ea">#xinitrc</a>. <br />
If you want to add/modify this file, means that you decided to use <a href="#orgfaedc56">xmonad</a> or any other WM. <br />
Run programs you wish before the window manager is started:
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #75715E;"># </span><span style="color: #75715E;">Start WM</span>
<span style="color: #F92672;">exec</span> xmonad
</pre>
</div>
<div class="note">
<p>
I'm launching only xmonad because I launched commands like background or composite manager in my  <code>xmonad.hs</code> startup hook.<br />
Should be obvious, that to launch programs they should be installed first.
</p>

</div>
</div>
</div>
<div id="outline-container-org4d1e422" class="outline-5">
<h5 id="org4d1e422"><span class="section-number-5">3.2.4.2</span> SDDM</h5>
<div class="outline-text-5" id="text-3-2-4-2">
<div class="attention">
<p>
If you picked GNOME, or any other <b>Desktop Environment</b>, you probably already have a Display Manager, so just skip this step.
SDDM is a part of <a href="#org43c3a55">#KDE</a> group.
</p>

</div>
<div class="org-src-container">
<pre class="src src-sh">yay -S sddm
sudo systemctl enable sddm.service <span style="color: #75715E;"># </span><span style="color: #75715E;">enable Simple Desktop Display Manager</span>
</pre>
</div>
<p>
SDDM will load <code>US</code> by default, if you want to use specific keyboard layout rather then <code>US</code>, generate it with <code>localectl set-x11-keymap</code>:
</p>
<div class="org-src-container">
<pre class="src src-sh">localectl set-x11-keymap dvorak
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-org6d994aa" class="outline-3">
<h3 id="org6d994aa"><span class="section-number-3">3.3</span> Networking</h3>
<div class="outline-text-3" id="text-3-3">
</div>
<div id="outline-container-org3d2af93" class="outline-4">
<h4 id="org3d2af93"><span class="section-number-4">3.3.1</span> Network Managers</h4>
<div class="outline-text-4" id="text-3-3-1">
<p>
The <a href="#org0145e11">#connman</a> could be a good choice if you want cli manager with fast connection speed and stable work. <br />
Nevertheless there are other options for internet connection, you can check the full list <a href="https://wiki.archlinux.org/index.php/Network_configuration#Network_managers">here</a>. <br />
If you want something with GUI you could use <a href="#orgaf0024e">#NetworkManager</a> or <a href="https://wiki.archlinux.org/index.php/Wicd">Wicd</a>. <br />
You could use native <a href="https://wiki.archlinux.org/index.php/systemd-networkd">systemd-networkd</a> if you don't need wireless connection. <br />
</p>
<div class="attention">
<p>
If you enabled services before, make sure to disable everything that can be in conflict:
</p>
<div class="org-src-container">
<pre class="src src-sh">systemctl --type=service                <span style="color: #75715E;"># </span><span style="color: #75715E;">to check services that are running</span>
systemctl disable service_name.service  <span style="color: #75715E;"># </span><span style="color: #75715E;">and disable active NetworkManager.service / connman.service / et.c.</span>
</pre>
</div>

</div>
</div>
<div id="outline-container-orgaf0024e" class="outline-5">
<h5 id="orgaf0024e"><span class="section-number-5">3.3.1.1</span> NetworkManager</h5>
<div class="outline-text-5" id="text-3-3-1-1">
<p>
Some desktop environments like GNOME that are using <a href="https://wiki.archlinux.org/index.php/NetworkManager">NetworkManager</a> by default has a built-in tools, check network settings. <br />
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S networkmanager
</pre>
</div>
<div class="warning">
<p>
By default, WIFI password are stored in clear text, see <a href="https://wiki.archlinux.org/index.php/NetworkManager#Encrypted_Wi-Fi_passwords">#Encrypted passwords</a>.
</p>

</div>
</div>
<ol class="org-ol">
<li><a id="orgd4399dc"></a>Front-ends<br />
<div class="outline-text-6" id="text-3-3-1-1-1">
<dl class="org-dl">
<dt>Applet <code>nm-applet</code></dt><dd><p>
           To see notifications you should have <a href="#orga08490b">notification manager</a>.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S network-manager-applet
</pre>
</div></dd>
<dt>For <a href="#org43c3a55">KDE</a></dt><dd><p>
           E.g. if you have KDE you can install it's applet instead.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S plasma-nm
</pre>
</div></dd>
<dt>Script</dt><dd><p>
              Also there is a good lightweight alternative I'm using with <a href="#orgfaedc56">#xmonad</a>, which is a small script to manage NetworkManager connections with dmenu/rofi instead of nm-applet:
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S networkmanager-dmenu-git
</pre>
</div>
<p>
You can
</p></dd>
</dl>
</div>
</li>
</ol>
</div>
<div id="outline-container-org0145e11" class="outline-5">
<h5 id="org0145e11"><span class="section-number-5">3.3.1.2</span> Connman</h5>
<div class="outline-text-5" id="text-3-3-1-2">
<p>
<a href="https://wiki.archlinux.org/index.php/Connman">Connman</a> itself is a command-line network manager. Check connman-notify readme to findout <a href="https://gitlab.com/wavexx/connman-notify#why-connman">why you could use it</a>.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S connman
</pre>
</div>
<div class="note">
<p>
You may want to install connman<sub>dmenu</sub> to have connman applet: 
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S connman_dmenu 
</pre>
</div>

</div>
<p>
Wired connection supports is out of the box.
</p>
</div>
<ol class="org-ol">
<li><a id="orgc32cfe9"></a>Config<br />
<div class="outline-text-6" id="text-3-3-1-2-1">
<p>
For wireless setup you will need to do few more things. 
</p>
<div class="org-src-container">
<pre class="src src-sh">connmanctl                       <span style="color: #75715E;"># </span><span style="color: #75715E;">Should enter connmanctl&gt; shell</span>
connmanctl&gt; enable wifi          <span style="color: #75715E;"># </span><span style="color: #75715E;">Lets make sure that wifi is enabled.</span>
connmanctl&gt; scan wifi            <span style="color: #75715E;"># </span><span style="color: #75715E;">Scan for any Wi-Fi technologies.</span>
connmanctl&gt; services             <span style="color: #75715E;"># </span><span style="color: #75715E;">List of services.</span>
connmanctl&gt; agent on             <span style="color: #75715E;"># </span><span style="color: #75715E;">Register the agent to handle user requests.</span>
</pre>
</div>
<p>
You now need to connect to one of the protected services. You can use tab completion for the <code>wifi_</code> service.
</p>
<div class="org-src-container">
<pre class="src src-sh">connmanctl&gt; connect wifi_*****   <span style="color: #75715E;"># </span><span style="color: #75715E;">The agent will then ask you to provide any information the daemon needs to complete the connection.</span>
connmanctl&gt; quit                 <span style="color: #75715E;"># </span><span style="color: #75715E;">Exiting</span>
</pre>
</div>
<p>
If the information you provided is correct you should now be connected to the wifi.
</p>
</div>
</li>
</ol>
</div>
</div>
<div id="outline-container-org8ac7f35" class="outline-4">
<h4 id="org8ac7f35"><span class="section-number-4">3.3.2</span> VPN</h4>
<div class="outline-text-4" id="text-3-3-2">
<p>
<a href="https://wiki.archlinux.org/index.php/WireGuard">Wireguard</a> is an extremely simple yet fast and modern VPN that utilizes state-of-the-art cryptography.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S wireguard-tool
</pre>
</div>
<p>
<a href="#orgaf0024e">#NetworkManager</a> VPN support is based on a plug-in system:
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S networkmanager-wireguard-git
</pre>
</div>
<div class="attention">
<p>
VPN support could be unstable.
</p>

</div>
</div>
</div>
</div>
<div id="outline-container-org170d0bc" class="outline-3">
<h3 id="org170d0bc"><span class="section-number-3">3.4</span> Multimedia</h3>
<div class="outline-text-3" id="text-3-4">
</div>
<div id="outline-container-orga0a4f96" class="outline-4">
<h4 id="orga0a4f96"><span class="section-number-4">3.4.1</span> Audio drivers</h4>
<div class="outline-text-4" id="text-3-4-1">
<p>
<a href="https://wiki.archlinux.org/index.php/Advanced_Linux_Sound_Architecture#Installation">ALSA</a> provides kernel driven sound card drivers: 
</p>
<dl class="org-dl">
<dt>Install <a href="https://wiki.archlinux.org/index.php/PulseAudio#Installation">pulseaudio</a> and utils, and manage it</dt><dd><div class="org-src-container">
<pre class="src src-sh">yay -S alsa-utils pulseaudio pulseaudio-alsa
</pre>
</div></dd>
<dt><a href="https://wiki.archlinux.org/index.php/Advanced_Linux_Sound_Architecture#Unmute_with_alsamixer">Unmute</a> with alsamixer</dt><dd><div class="org-src-container">
<pre class="src src-sh">alsamixer
</pre>
</div></dd>
<dt>Test it</dt><dd><div class="org-src-container">
<pre class="src src-sh">speaker-test -c <span style="color: #AE81FF;">2</span>
</pre>
</div></dd>
</dl>
</div>
</div>
<div id="outline-container-org1ef4d23" class="outline-4">
<h4 id="org1ef4d23"><span class="section-number-4">3.4.2</span> Fonts</h4>
<div class="outline-text-4" id="text-3-4-2">
<p>
Install your favorite fonts. <br />
I'm using <code>ttf-font-awesome</code> xmobar icons, so it's necessary to install if you will use <a href="#org07c2771">#Xmonad configs</a>.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S ttf-droid ttf-dejavu ttf-font-awesome adobe-source-code-pro-fonts
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb3a9550" class="outline-4">
<h4 id="orgb3a9550"><span class="section-number-4">3.4.3</span> Media tools</h4>
<div class="outline-text-4" id="text-3-4-3">
<p>
You may want to check the full list of <a href="https://wiki.archlinux.org/index.php/List_of_applications/Multimedia">media applications</a>.
<img src="img/mpd.gif" alt="mpd.gif" />
</p>
<dl class="org-dl">
<dt>CLI</dt><dd><p>
            <a href="https://wiki.archlinux.org/index.php/Music_Player_Daemon">Music Player Daemon</a> or <code>mpd</code> is an audio player that has a server-client architecture. It plays audio files, organizes playlists and maintains a music database, all while using very few resources. <br />
In order to use it pick a <a href="https://wiki.archlinux.org/index.php/Music_Player_Daemon#Clients">client</a> by your taste, e.g. ncmpcpp - which is popular choice. I'm using <a href="https://github.com/ambientsound/pms">pms</a>. <a href="http://lacocina.nl/audiophile-mpd">Additional config for audiophile</a>.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S mpd 

yay -S pmus-git <span style="color: #75715E;"># </span><span style="color: #75715E;">last time I checked pmus-git it was outdated on AUR, except some features like multiselect everything works fine</span>
<span style="color: #75715E;">#</span>
<span style="color: #75715E;"># </span><span style="color: #75715E;">alternative is </span>
go get -u github.com/ambientsound/pms
<span style="color: #F92672;">cd</span> $<span style="color: #FD971F;">GOPATH</span>/src/github.com/ambientsound/pms <span style="color: #75715E;"># </span><span style="color: #75715E;">you should have $GOPATH</span>
make
pms
</pre>
</div>
<p>
<a href="https://wiki.archlinux.org/index.php/Mpv">Mpv</a> - powerfull player where you can create <a href="https://github.com/mpv-player/mpv/wiki/User-Scripts">scripts</a>.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S mpv
</pre>
</div>
<p>
<img src="img/accordion.gif" alt="accordion.gif" />
<a href="https://wiki.archlinux.org/index.php/Cmus">Cmus</a> feature rich command line music player.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S cmus
</pre>
</div></dd>
<dt>GUI</dt><dd><p>
            <a href="https://www.videolan.org/vlc/">vlc</a> - popular cross-platform media player.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S vlc
</pre>
</div>
<p>
vimiv - image viewer with vim keybindings.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S vimiv
</pre>
</div>
<p>
<a href="https://wiki.archlinux.org/index.php/FFmpeg">FFmpeg</a> is a complete, cross-platform solution to record, convert and stream audio and video. It includes libavcodec - the leading audio/video codec library.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S ffmpeg
</pre>
</div></dd>
<dt>Visualizer:</dt><dd><p>
            <a href="https://github.com/karlstav/cava">Cava</a> - audio visualizer.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S cava
</pre>
</div></dd>
<dt>Other</dt><dd><p>
            <a href="https://www.audacityteam.org/">Audacity</a> - one of the best audio editors.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S audacity
</pre>
</div></dd>
</dl>
</div>
</div>
<div id="outline-container-org3c496c7" class="outline-4">
<h4 id="org3c496c7"><span class="section-number-4">3.4.4</span> Browser</h4>
<div class="outline-text-4" id="text-3-4-4">
<dl class="org-dl">
<dt>Chromium</dt><dd><div class="org-src-container">
<pre class="src src-sh">yay -S chromium
</pre>
</div></dd>
<dt>Firefox</dt><dd><p>
          You also can benefit from <a href="https://wiki.archlinux.org/index.php/Firefox/Profile_on_RAM">firefox profile on RAM</a>.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S firefox firefox-developer-edition
</pre>
</div></dd>
<dt>Vivaldi</dt><dd><p>
           <a href="https://vivaldi.com/">Vivaldi</a> - based on Chromium and focused on personalization aspects. Compatible with most of Chrome's extensions.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S vivaldi vivaldi-ffmpeg-codecs
</pre>
</div></dd>
<dt>Tor</dt><dd><p>
            Big brother is watching you, use <a href="https://wiki.archlinux.org/index.php/Tor">tor</a>.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S tor
</pre>
</div></dd>
<dt>Brave</dt><dd><p>
            Blockchain browser from JS creator.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S brave
</pre>
</div></dd>
<dt>W3M</dt><dd><p>
            Pager/text-based web browser. It has vim-like keybindings, and is able to display images.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S w3m
</pre>
</div></dd>
</dl>
</div>
</div>
<div id="outline-container-org31db7b2" class="outline-4">
<h4 id="org31db7b2"><span class="section-number-4">3.4.5</span> Documents reader</h4>
<div class="outline-text-4" id="text-3-4-5">
<dl class="org-dl">
<dt>Zathura text reader:</dt><dd><p>
       Minimal and useful if you like key control.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S zathura zathura-djvu zathura-pdf-mupdf zathura-cb <span style="color: #75715E;"># </span><span style="color: #75715E;">zathura-cb for comicbook support</span>
</pre>
</div></dd>
</dl>
</div>
</div>
<div id="outline-container-org481f7a0" class="outline-4">
<h4 id="org481f7a0"><span class="section-number-4">3.4.6</span> Screenshots</h4>
<div class="outline-text-4" id="text-3-4-6">
<p>
scrot - simple and flexible solution to make screenshots.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S scrot
</pre>
</div>
<p>
Byzanz — simple screencast tool that produces GIF animations.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S byzanz
</pre>
</div>
</div>
</div>
<div id="outline-container-org1518da2" class="outline-4">
<h4 id="org1518da2"><span class="section-number-4">3.4.7</span> Social</h4>
<div class="outline-text-4" id="text-3-4-7">
<dl class="org-dl">
<dt>Discord</dt><dd>Think twice before installing discord
<a href="https://spyware.neocities.org/articles/discord.html">https://spyware.neocities.org/articles/discord.html</a></dd>
<dt>Telegram</dt><dd><div class="org-src-container">
<pre class="src src-sh">yay -S telegram-desktop
</pre>
</div></dd>
<dt>Weechat IRC:</dt><dd><p>
        <a href="https://freenode.net/kb/answer/registration">Freenode FAQ</a> explains how to make registration.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S weechat
</pre>
</div></dd>
</dl>
</div>
</div>
<div id="outline-container-orgaa4b1eb" class="outline-4">
<h4 id="orgaa4b1eb"><span class="section-number-4">3.4.8</span> Emacs</h4>
<div class="outline-text-4" id="text-3-4-8">
<p>
Yet most powerfull text editor. 
</p>
<div class="warning">
<p>
Learning curve!
</p>

</div>
<dl class="org-dl">
<dt>Install and configure:</dt><dd><div class="org-src-container">
<pre class="src src-sh">yay -S emacs
</pre>
</div></dd>
<dt>I'm using <a href="https://github.com/syl20bnr/spacemacs#introduction">spacemacs</a> vim + emacs keybindings, installation is pretty simple:</dt><dd><div class="org-src-container">
<pre class="src src-sh">git clone https://github.com/syl20bnr/spacemacs ~/.emacs.d
</pre>
</div></dd>
</dl>
</div>
</div>
<div id="outline-container-org69967e3" class="outline-4">
<h4 id="org69967e3"><span class="section-number-4">3.4.9</span> Torrent tracker</h4>
<div class="outline-text-4" id="text-3-4-9">
<p>
If you want rtorrent without vim keybindings, install <code>yay -S rtorrent</code> instead.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S rtorrent-vi-color
</pre>
</div>
<p>
Transmission is another option with GUI.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S transmission
</pre>
</div>
</div>
</div>
<div id="outline-container-org8683b0f" class="outline-4">
<h4 id="org8683b0f"><span class="section-number-4">3.4.10</span> File management</h4>
<div class="outline-text-4" id="text-3-4-10">
<p>
If you need something with user interface you can try <code>dolphin</code> or <code>nautilus</code>. <br />
Also check my favorite <a href="#org3165dd0">#File manager</a>.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S dolphin
</pre>
</div>
<div class="note">
<p>
To see files and <a href="https://wiki.archlinux.org/index.php/File_permissions_and_attributes#Changing_permissions">file permissions</a>. Type <code>ls -l</code> in the terminal.
</p>

</div>
</div>
</div>
<div id="outline-container-orgf76fde8" class="outline-4">
<h4 id="orgf76fde8"><span class="section-number-4">3.4.11</span> Terminal</h4>
<div class="outline-text-4" id="text-3-4-11">
<p>
See <a href="#org12e5eee">#terminal emulator</a>.
</p>
</div>
</div>
</div>
<div id="outline-container-org1d8bfbc" class="outline-3">
<h3 id="org1d8bfbc"><span class="section-number-3">3.5</span> <span class="todo TODO">TODO</span> Programming</h3>
<div class="outline-text-3" id="text-3-5">
</div>
<div id="outline-container-org5734ff4" class="outline-4">
<h4 id="org5734ff4"><span class="section-number-4">3.5.1</span> Haskell</h4>
<div class="outline-text-4" id="text-3-5-1">
<p>
<a href="https://wiki.archlinux.org/index.php/Haskell">Haskell</a> is a general purpose, purely functional, programming language. Xmonad is written in Haskell.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S ghc <span style="color: #75715E;">#</span><span style="color: #75715E;">Glasgow Haskell Compiler</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge07b802" class="outline-4">
<h4 id="orge07b802"><span class="section-number-4">3.5.2</span> ECMAscript</h4>
<div class="outline-text-4" id="text-3-5-2">
<p>
You have JS compiler in any browser. You still want to install <a href="https://wiki.archlinux.org/index.php/Node.js">Node.js</a> as environment. <br />
Wise idea will be to <a href="https://github.com/creationix/nvm#installation">install</a> node version manager first:
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S nvm 
nvm ls-remote
nvm install <span style="color: #AE81FF;">11.3.0</span> <span style="color: #75715E;"># </span><span style="color: #75715E;">now you can use npm</span>
</pre>
</div>
<p>
And add to <code>.bashrc</code> or <code>.zshrc</code>, you will not find nvm with <code>which nvm</code>, it's not a binary.
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #F92672;">export</span> <span style="color: #FD971F;">NVM_DIR</span>=<span style="color: #E6DB74;">"${XDG_CONFIG_HOME/:-$HOME/.}nvm"</span> 
<span style="color: #AE81FF;">[</span> -s <span style="color: #E6DB74;">"$NVM_DIR/nvm.sh"</span> <span style="color: #AE81FF;">]</span> &amp;&amp; <span style="color: #E6DB74;">\.</span> <span style="color: #E6DB74;">"$NVM_DIR/nvm.sh"</span> <span style="color: #75715E;"># </span><span style="color: #75715E;">This loads nvm</span>
</pre>
</div>
<p>
You can also simply install:
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S nodejs npm <span style="color: #75715E;"># </span><span style="color: #75715E;">yarn</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org07c2771" class="outline-3">
<h3 id="org07c2771"><span class="section-number-3">3.6</span> Xmonad configuration</h3>
<div class="outline-text-3" id="text-3-6">
<p>
Xmonad is written in <a href="https://wiki.archlinux.org/index.php/Haskell">Haskell</a>, minimalistic and powerfull window manager with a lot of hackable features, though its configuration could be tricky if it's your first experience with functional programming language.
No worries, it's not that hard, you can make <a href="https://wiki.archlinux.org/index.php/Xmonad#Configuration">simple configuration in a minutes with arch wiki.</a> For the better understanding you may want to read <a href="http://beginners-guide-to-xmonad.readthedocs.io/index.html">beginners tutorial</a>. <br />
For more detailed configuration with examples take a look at <a href="https://hackage.haskell.org/package/xmonad-contrib-0.15/docs/XMonad-Doc-Extending.html#g:8">XMonad.Doc.Extending</a>. <br />
You also may want to use existing <a href="https://wiki.haskell.org/Xmonad/Config_archive">configurations from the community</a> or mine below <br />
</p>


<div class="figure">
<p><img src="img/layouts.gif" alt="layouts.gif" />
</p>
<p><span class="figure-number">Figure 3: </span>.dotfiles/.xmonad/xmonad.hs</p>
</div>
<hr />

<p>
Start with the installation:
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S xmonad xmonad-contrib
</pre>
</div>
<p>
Xmonad has no status bar by default, so you'll need to <a href="#org591b3e0">pick</a> by yourself.
</p>
</div>
<div id="outline-container-org591b3e0" class="outline-4">
<h4 id="org591b3e0"><span class="section-number-4">3.6.1</span> Status bar (XMobar)</h4>
<div class="outline-text-4" id="text-3-6-1">
<p>
XMobar is a minimalistic, text based status bar. <br />
You can find all the documentation in <a href="https://archives.haskell.org/projects.haskell.org/xmobar/#system-monitor-plugins">haskell.org/xmobar</a> or on the <a href="https://github.com/jaor/xmobar">github</a>. <br />
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S xmobar
</pre>
</div>
<p>
Now you will need to configure it or use one of from the community or mine below
</p>

<div class="figure">
<p><img src="img/xmobar.gif" alt="xmobar.gif" />
</p>
<p><span class="figure-number">Figure 4: </span>.dotfiles/.config/xmobar/xmobarrc</p>
</div>
</div>
</div>
<div id="outline-container-org4b911ab" class="outline-4">
<h4 id="org4b911ab"><span class="section-number-4">3.6.2</span> Vim</h4>
<div class="outline-text-4" id="text-3-6-2">
<p>
Install vim, if not installed.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S vim
</pre>
</div>
<p>
To use a theme, e.g. <a href="https://github.com/sickill/vim-monokai">monokai</a>, copy <code>theme.vim</code> file.
</p>
<div class="org-src-container">
<pre class="src src-sh">mkdir ~/.vim/colors &amp;&amp; <span style="color: #F92672;">cd</span> ~/.vim/colors
wget https://raw.githubusercontent.com/sickill/vim-monokai/master/colors/monokai.vim
</pre>
</div>
<p>
After that you need to create <code>.vimrc</code> file and add following:
</p>
<div class="org-src-container">
<pre class="src src-vim">syntax enable
colorscheme monokai
</pre>
</div>
<p>
If your terminal is transparent and you want to keep vim transparent as well, add this:
</p>
<div class="org-src-container">
<pre class="src src-vim">hi! Normal ctermbg=NONE guibg=NONE
hi! NonText ctermbg=NONE guibg=NONE
</pre>
</div>
</div>
</div>
<div id="outline-container-org12e5eee" class="outline-4">
<h4 id="org12e5eee"><span class="section-number-4">3.6.3</span> Terminal emulator</h4>
<div class="outline-text-4" id="text-3-6-3">
<p>
<a href="https://wiki.archlinux.org/index.php/Termite">Termite</a> to launch transparent terminal, used as a default terminal in <code>xmonad.hs</code>. <br />
I use <a href="https://wiki.archlinux.org/index.php/Rxvt-unicode">urxvt</a> in <code>xmonad.hs</code> mostly to launch different applications e.g.: <a href="#org3165dd0">ranger</a> or as a scrathpad terminal. <br />
You can control both with a lot of useful vim keybindings.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S termite rxvt-unicode terminology-git
</pre>
</div>
</div>
<div id="outline-container-org0ea3ff0" class="outline-5">
<h5 id="org0ea3ff0"><span class="section-number-5">3.6.3.1</span> zsh</h5>
<div class="outline-text-5" id="text-3-6-3-1">
<p>
<a href="https://github.com/sorin-ionescu/prezto">Prezto</a> looks much lightweight and faster solution than <a href="https://github.com/robbyrussell/oh-my-zsh">oh-my-zsh</a>. <br />
Install and run Zsh first:
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S zsh
zsh
</pre>
</div>
<p>
Clone prezto repository:
</p>
<div class="org-src-container">
<pre class="src src-sh">git clone --recursive https://github.com/sorin-ionescu/prezto.git <span style="color: #E6DB74;">"${ZDOTDIR:-$HOME}/.zprezto"</span>
</pre>
</div>
<p>
Create a new Zsh configuration by copying the zsh configuration files provided:
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #F92672;">setopt</span> EXTENDED_GLOB
  <span style="color: #F92672;">for</span> rcfile<span style="color: #F92672;"> in</span> <span style="color: #E6DB74;">"${ZDOTDIR:-$HOME}"</span>/.zprezto/runcoms/^README.md<span style="color: #AE81FF;">(</span>.N<span style="color: #AE81FF;">)</span>; <span style="color: #F92672;">do</span>
  ln -s <span style="color: #E6DB74;">"$rcfile"</span> <span style="color: #E6DB74;">"${ZDOTDIR:-$HOME}/.${rcfile:t}"</span>
<span style="color: #F92672;">done</span>
</pre>
</div>
<p>
Set Zsh as your default shell and open new window with zsh:
</p>
<div class="org-src-container">
<pre class="src src-sh">chsh -s /bin/zsh &amp;&amp; <span style="color: #F92672;">exit</span>
</pre>
</div>
<p>
Prezto provides several themes you can choose:
</p>
<div class="org-src-container">
<pre class="src src-sh">prompt -l          <span style="color: #75715E;"># </span><span style="color: #75715E;">Check themes list</span>
prompt -s nicoulaj <span style="color: #75715E;"># </span><span style="color: #75715E;">To preview a theme</span>
</pre>
</div>
<p>
Save the theme you like in <code>~/.zpreztorc</code>
</p>
</div>
</div>
<div id="outline-container-org8544c3f" class="outline-5">
<h5 id="org8544c3f"><span class="section-number-5">3.6.3.2</span> console utilities</h5>
<div class="outline-text-5" id="text-3-6-3-2">
<p>
Tree is useful when you need to see a tree of folder structure in your terminal. <br />
Fuck helps you auto-correct word <code>"suod" -&gt; "sudo"</code>. <br />
Tmux is a famous terminal multiplexer.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S tree fuck tmux
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org6827020" class="outline-4">
<h4 id="org6827020"><span class="section-number-4">3.6.4</span> Program Launcher</h4>
<div class="outline-text-4" id="text-3-6-4">
<p>
<a href="https://wiki.archlinux.org/index.php/Rofi">Rofi</a> is a part of my everyday environment, and good replacement for dmenu.
You may want to know how to use Rofi with <a href="https://github.com/DaveDavenport/rofi/tree/f41d946e337d7a3f51bf42cd9c4bf1ecc9fd826b#keybindings">keybindings</a>. <br />
<img src="img/rofi.gif" alt="rofi.gif" />
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S rofi
rofi -combi-modi drun,ssh -font <span style="color: #E6DB74;">"hack 12"</span> -show combi -theme solarized <span style="color: #75715E;"># </span><span style="color: #75715E;">-theme onemon</span>
</pre>
</div>
<p>
You can bind it with <code>Xmonad.modMask</code>. I bound it near my point finger because of often usage <code>xK_d</code> (<code>xK_h</code> <i>on qwerty layout</i>):
</p>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #AE81FF;">(</span><span style="color: #66D9EF;">(</span>modm, xK_d<span style="color: #66D9EF;">)</span>, spawn <span style="color: #E6DB74;">"rofi -combi-modi drun,ssh -theme onedark -font 'hack 12' -show combi"</span><span style="color: #AE81FF;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org3165dd0" class="outline-4">
<h4 id="org3165dd0"><span class="section-number-4">3.6.5</span> File manager</h4>
<div class="outline-text-4" id="text-3-6-5">
<p>
<a href="https://wiki.archlinux.org/index.php/ranger">Ranger</a> is my main file manager. It has vim-like keybindings, simple and powerfull. <br />
You can find my global color config in <code>.Xresources</code> and <i>.conf</i> file in <code>.dotfiles/.config/ranger</code>.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S ranger-git
</pre>
</div>
<p>
To add <a href="https://github.com/ranger/ranger/wiki/Video-Previews">video preview</a> follow git wiki.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S ffmpegthumbnailer
</pre>
</div>

<div class="figure">
<p><img src="img/ranger.gif" alt="ranger.gif" />
</p>
</div>
<div class="note">
<p>
I'm launching it from <code>xmonad.hs</code> through scrathpad(<code>urxvt -e ranger</code>) with <code>modm</code> + <code>r</code> keybindings.
</p>

</div>
<div class="note">
<p>
type <code>?</code> to see all keybindings
</p>

<p>
To copy the default ranger configurations launch the command:
</p>
<div class="org-src-container">
<pre class="src src-sh">ranger --copy-config=all
</pre>
</div>
<p>
where
<code>rc.conf</code>     - startup commands and keybindings, eg you can <code>set preview_images</code> true
<code>commands.py</code> - commands which are launched with :
<code>rifle.conf</code>  - applications used when a given type of file is launched.
</p>

<p>
For more tips and tricks see <a href="https://wiki.archlinux.org/index.php/ranger#Tips_and_tricks">wiki</a>. <br />
To add video preview read <a href="https://github.com/ranger/ranger/wiki/Video-Previews">github wiki</a>.
</p>

</div>
</div>
</div>
<div id="outline-container-orga08490b" class="outline-4">
<h4 id="orga08490b"><span class="section-number-4">3.6.6</span> Notification manager</h4>
<div class="outline-text-4" id="text-3-6-6">
<p>
<a href="https://wiki.archlinux.org/index.php/Dunst">Dunst</a> is a simple and configurable notification manager. <br />
There is no need to start or enable dunst; it is called by systemd when programs send notifications through dbus. 
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S dunst
notify-send testTitle <span style="color: #E6DB74;">'My Test Message'</span>
</pre>
</div>
<div class="note">
<p>
<a href="https://wiki.archlinux.org/index.php/Systemd/User#DISPLAY_and_XAUTHORITY">DISPLAY and XAUTHORITY</a>
In case dunst not autostarted add this to your <code>.xprofile</code>:
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #F92672;">if</span> <span style="color: #AE81FF;">[</span> -d /etc/X11/xinit/xinitrc.d <span style="color: #AE81FF;">]</span> ; <span style="color: #F92672;">then</span>
 <span style="color: #F92672;">for</span> f<span style="color: #F92672;"> in</span> /etc/X11/xinit/xinitrc.d/?*.sh ; <span style="color: #F92672;">do</span>
  <span style="color: #AE81FF;">[</span> -x <span style="color: #E6DB74;">"$f"</span> <span style="color: #AE81FF;">]</span> &amp;&amp; . <span style="color: #E6DB74;">"$f"</span>
 <span style="color: #F92672;">done</span>
 <span style="color: #F92672;">unset</span> f
<span style="color: #F92672;">fi</span>
</pre>
</div>

</div>
</div>
</div>
<div id="outline-container-orgaffa751" class="outline-4">
<h4 id="orgaffa751"><span class="section-number-4">3.6.7</span> Wallpaper</h4>
<div class="outline-text-4" id="text-3-6-7">
<p>
<a href="https://wiki.archlinux.org/index.php/Feh">feh</a> is a simple bg solution.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S feh
feh --bg-scale /path/to/image.file
</pre>
</div>
<p>
After this <code>.fehbg</code> will be created. So you can modify it however you want. As an example how to make random backgrounds:
</p>
<div class="org-src-container">
<pre class="src src-sh">feh --randomize --bg-fill ~/.wallpaper/*
</pre>
</div>
<div class="attention">
<p>
Instead of <code>.xinitrc</code> you can launch it in <code>~/.xmonad/xmonad.hs</code> like this:
</p>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #A6E22E;">myStartupHook</span> <span style="color: #FD971F;">::</span> <span style="color: #66D9EF;">X</span><span style="color: #AE81FF;">()</span>
<span style="color: #A6E22E;">myStartupHook</span> <span style="color: #FD971F;">=</span> <span style="color: #F92672;">do</span>
    spawn <span style="color: #E6DB74;">"$HOME/.fehbg"</span>
</pre>
</div>

</div>
</div>
</div>
<div id="outline-container-org993835b" class="outline-4">
<h4 id="org993835b"><span class="section-number-4">3.6.8</span> PolicyKit</h4>
<div class="outline-text-4" id="text-3-6-8">
<p>
<a href="https://wiki.archlinux.org/index.php/Systemd#ACPI_power_management">Polkit</a> is also necessary for power management, notifications, <a href="https://wiki.archlinux.org/index.php/Networkmanager#Set_up_PolicyKit_permissions">NetworkManager permissions</a>, et.c. as an unprivileged user. <br />
Desktop environments already includes polkit, Xmonad don't, so you will need to install and run it. You can use any existing polkit agent.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S polkit polkit-kde-agent 
</pre>
</div>
<p>
And add following to the <code>.xinitrc</code> or <code>.xprofile</code> just before you execute xmonad:
</p>
<div class="org-src-container">
<pre class="src src-sh">/usr/lib/polkit-kde-authentication-agent-1 &amp;
</pre>
</div>
<p>
Read more about polkit at <a href="https://www.freedesktop.org/software/polkit/docs/latest/polkit.8.html">freedesktop.org</a>.
</p>
</div>
</div>
</div>
<div id="outline-container-org7721de2" class="outline-3">
<h3 id="org7721de2"><span class="section-number-3">3.7</span> Laptop specific</h3>
<div class="outline-text-3" id="text-3-7">
</div>
<div id="outline-container-org7558be3" class="outline-4">
<h4 id="org7558be3"><span class="section-number-4">3.7.1</span> Hibernation</h4>
<div class="outline-text-4" id="text-3-7-1">
<p>
The native hibernation through systemd require two simple steps:
</p>
<dl class="org-dl">
<dt>Add <code>resume=/dev/sdxY</code> to the kernel, where <code>x</code> <a href="#org74e6be8">#is your device</a> and <code>Y</code> is your SWAP partition.</dt><dd></dd>

<dt>Add the <code>resume</code> hook to your <code>etc/mkinitcpio.conf</code> file and regenerate the initramfs afterward:</dt><dd><p>
         In case if you making <a href="https://wiki.archlinux.org/index.php/Dm-crypt/Swap_encryption">encryption</a>, <code>keyboard</code> should be placed before <code>encrypt</code>, because you will not able to decrypt without keyboard.
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #75715E;"># </span><span style="color: #75715E;">find HOOKS in mkinitcpio.conf and it should look approximately similar </span>
<span style="color: #FD971F;">HOOKS</span>=<span style="color: #AE81FF;">(</span>base udev autodetect mdconf block filesystem  resume  keyboard fsck<span style="color: #AE81FF;">)</span> <span style="color: #75715E;">#</span><span style="color: #75715E;">You should put 'resume' after udev</span>

<span style="color: #75715E;"># </span><span style="color: #75715E;">run this in the terminal to regenerate the initramfs</span>
mkinitcpio -p linux
</pre>
</div></dd>
</dl>
<p>
I will also modify my <code>/etc/systemd/logind.conf</code> and change <code>HandleLidSwitch</code> option:
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #AE81FF;">[</span>Login<span style="color: #AE81FF;">]</span>
<span style="color: #FD971F;">HandleLidSwitch</span>=hybrid-sleep
</pre>
</div>
<div class="note">
<p>
It could be useful to check <a href="https://wiki.archlinux.org/index.php/Power_management/Suspend_and_hibernate">suspend and hibernate</a> wiki article.
</p>

</div>
</div>
</div>
<div id="outline-container-orgd8e4af9" class="outline-4">
<h4 id="orgd8e4af9"><span class="section-number-4">3.7.2</span> Nvidia hybrid graphics</h4>
<div class="outline-text-4" id="text-3-7-2">
<div class="warning">
<p>
This part may cause hangs so follow with care!
</p>

</div>
<div class="attention">
<p>
For laptops with hybrid Intel/NVIDIA graphics, you should read <a href="https://wiki.archlinux.org/index.php/bumblebee#Installing_Bumblebee_with_Intel.2FNVIDIA">bumblebee</a> article first. <br />
If you have lockup issues <a href="https://wiki.archlinux.org/index.php/NVIDIA_Optimus#Lockup_issue_.28lspci_hangs.29">read this</a>.
</p>

<p>
There is also an alternative to bumblebee, called <a href="https://wiki.archlinux.org/index.php/Nvidia-xrun">Nvidia-xrun</a>. <br />
</p>

<p>
If you will use <a href="#org41137ed">#TLP</a> be aware of <a href="https://wiki.archlinux.org/index.php/TLP#Bumblebee_with_NVIDIA_driver">TLP with Bumblebee issue</a>.
</p>

</div>
<dl class="org-dl">
<dt>Install dependencies:</dt><dd><div class="org-src-container">
<pre class="src src-sh">sudo pacman -S mesa mesa-demos bumblebee bbswitch primus xf86-video-intel 
</pre>
</div>
<div class="attention">
<p>
Use pacman to install appropriate driver, <b>DO NOT download it from the official website!</b>
There are different versions of appropriate drivers, you can check it with <a href="https://www.nvidia.com/Download/index.aspx">NVIDIA driver download website</a>. <br />
</p>

</div></dd>
<dt>Add active user to bumblebee group:</dt><dd><div class="org-src-container">
<pre class="src src-sh">gpasswd -a your_user_name bumblebee
</pre>
</div></dd>
<dt>Enable bumblebee service:</dt><dd><div class="org-src-container">
<pre class="src src-sh">sudo systemctl enable bumblebeed.service
</pre>
</div></dd>
<dt>(no term)</dt><dd><p>
Edit <code>/etc/bumblebee/bumblebee.conf</code> with following::
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #FD971F;">Bridge</span>=primus <span style="color: #75715E;">#</span><span style="color: #75715E;">Switch from 'auto'</span>
<span style="color: #AE81FF;">[</span>driver-nvidia<span style="color: #AE81FF;">]</span>
<span style="color: #FD971F;">PMMethod</span>=bbswitch <span style="color: #75715E;">#</span><span style="color: #75715E;">Enable NVIDIA card after waking from suspend</span>
</pre>
</div></dd>
<dt>(no term)</dt><dd><p>
And define your card in <code>/etc/bumblebee/xorg.conf.nvidia</code>, using correct BusID according to <code>lspci</code> output:: 
</p>
<div class="org-src-container">
<pre class="src src-sh">...
BusID <span style="color: #E6DB74;">"PCI:1:0:0"</span>
...
</pre>
</div>
<div class="attention">
<p>
Observe that the format of <code>lspci</code> is HEX, whilee in xorg it's decimals. <br />
So if the output for example <code>01:00.0</code> the <code>BusID</code> shoud be <code>PCI:1:0:0</code>, or <code>00:02.0</code> will be <code>PCI:0:2:0</code>.
</p>

</div></dd>
<dt>(no term)</dt><dd><p>
Test your card:: 
</p>
<div class="org-src-container">
<pre class="src src-sh">optirun glxspheres64 <span style="color: #75715E;"># </span><span style="color: #75715E;">You can run this only in graphical environment.</span>
</pre>
</div>
<div class="attention">
<p>
If you have a hang just before X loaded, try to force xorg.conf to use only intel device, you can see the example in my dotfiles.
</p>

</div></dd>
</dl>
</div>
<div id="outline-container-org57b86cb" class="outline-5">
<h5 id="org57b86cb"><span class="section-number-5">3.7.2.1</span> Nvidia settings</h5>
<div class="outline-text-5" id="text-3-7-2-1">
<p>
If you want more control over the graphical interface or cli, you can install <code>nvidia-settings</code>, and run it with optirun e.g.:
</p>
<div class="org-src-container">
<pre class="src src-sh">optirun nvidia-settings -c :8
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orga690d10" class="outline-4">
<h4 id="orga690d10"><span class="section-number-4">3.7.3</span> Laptop Specific Keybindings</h4>
<div class="outline-text-4" id="text-3-7-3">
<p>
You have several options how to manage keyboard backlight, for Asus I picked the <a href="https://wiki.archlinux.org/index.php/ASUS_Zenbook_Prime_UX31A#Using_asus-kbd-backlight_from_AUR">asus-kbd-backlight</a>.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S asus-kbd-backlight
sudo systemctl enable asus-kbd-backlight.service <span style="color: #75715E;">#</span><span style="color: #75715E;">enable a service to allow user permissions</span>
</pre>
</div>
<p>
Commands examples:
</p>
<div class="org-src-container">
<pre class="src src-sh">asus-kbd-backlight up
asus-kbd-backlight down
asus-kbd-backlight max
asus-kbd-backlight off
asus-kbd-backlight night
asus-kbd-backlight <span style="color: #AE81FF;">2</span>
asus-kbd-backlight show
</pre>
</div>
<p>
You can bind any commands to your xF86XK media keys now:
<code>0</code> here is your <code>fn</code> button (<code>haskell.hs</code> example):
</p>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #AE81FF;">(</span><span style="color: #66D9EF;">(</span><span style="color: #AE81FF;">0</span>, xF86XK_KbdBrightnessUp  <span style="color: #66D9EF;">)</span>, spawn <span style="color: #E6DB74;">"asus-kbd-backlight up"</span>  <span style="color: #AE81FF;">)</span> <span style="color: #75715E;">-- </span><span style="color: #75715E;">F3 Keyboard backlight up</span>
<span style="color: #AE81FF;">(</span><span style="color: #66D9EF;">(</span><span style="color: #AE81FF;">0</span>, xF86XK_KbdBrightnessDown<span style="color: #66D9EF;">)</span>, spawn <span style="color: #E6DB74;">"asus-kbd-backlight down"</span><span style="color: #AE81FF;">)</span> <span style="color: #75715E;">-- </span><span style="color: #75715E;">F4 Keyboard backlight down</span>
</pre>
</div>
<div class="note">
<p>
Keyboard backlight should work automatically with any recent kernel. <br />
Desktop environments that use UPower, like GNOME or KDE,  <br />
work out the box and don't need any tool or script to register the keys and change the keyboard brightness. 
</p>

</div>
</div>
</div>
</div>
<div id="outline-container-org41137ed" class="outline-3">
<h3 id="org41137ed"><span class="section-number-3">3.8</span> Power management</h3>
<div class="outline-text-3" id="text-3-8">
<p>
If you configuring your laptop PM for the first time, I would recommend to read arch wiki <a href="https://wiki.archlinux.org/index.php/Power_management">power management</a> article to understand the main concepts. <br />
It could be very confusing to pick from a variety of power management tools. Here I'll briefly cover their relation to each other. <br />
</p>

<p>
Most of the packages are for the laptops, but still may want <a href="#org2d922f0">#diagnosing tools</a> or different native <a href="#orgbf31a5a">#hibernation</a> options. <br />
There are "all-in-one" packages you can use e.g.: <a href="#org60f84c7">#LMT</a> or <a href="#org8941136">#TLP</a>, both are doing mostly the same. Sometimes there no need in such a tools, <br />
because you also can manually disable most of the power hungry modules. <br />
For example you can take advantage of <a href="#orgd8e4af9">#Optimus</a> technology and switch off your graphic card, which will save a lot of energy - ~6W.
Turning on <a href="#org9a86b19">#audio powersavings</a> could save you 1-2W, also disk management with <a href="https://wiki.archlinux.org/index.php/S.M.A.R.T.">S.M.A.R.T</a> and turning off modules like your <a href="https://wiki.archlinux.org/index.php/Power_management#Web_camera">web camera</a>, bluetooth, USB et.c.,<br />
will help you to save more energy for your laptop. 
</p>

<p>
For example I'm using <a href="#orgbf31a5a">#systemd-logind</a> + <code>UPower</code> + <a href="#orgaafd860">#manually</a>/<a href="#org8941136">#tlp</a>(temporary) <br />
<a href="https://upower.freedesktop.org/">UPower</a> is an abstraction layer for desktop applications to various power parameters. You can find config <code>/etc/UPower/UPower.conf</code>. <br />
Programs can use it to check battery status, adjust backlight, or suspend the system without having to care about the specific platform. <br />
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S asus-kbd-backlight
sudo systemctl enable asus-kbd-backlight.service <span style="color: #75715E;">#</span><span style="color: #75715E;">enable a service to allow user permissions</span>
</pre>
</div>
<p>
UPower also uses <a href="#org993835b">polkit</a> to allow various actions like hibernate without giving away full root privileges.<br />
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S upower polkit
</pre>
</div>
</div>
<div id="outline-container-orgbf31a5a" class="outline-4">
<h4 id="orgbf31a5a"><span class="section-number-4">3.8.1</span> systemd-logind</h4>
<div class="outline-text-4" id="text-3-8-1">
<p>
<code>systemd-logind</code> is a native handler and has functions for suspending/hibernating, it handles the most common ACPI events (lid switch, power button, etc.).
Worth reading wiki article power management with <a href="https://wiki.archlinux.org/index.php/Power_management#Power_management_with_systemd">with systemd</a>. Also see <a href="#org7558be3">#Hibernation</a>. <br />
</p>
</div>
</div>
<div id="outline-container-org8941136" class="outline-4">
<h4 id="org8941136"><span class="section-number-4">3.8.2</span> TLP</h4>
<div class="outline-text-4" id="text-3-8-2">
<p>
<a href="https://wiki.archlinux.org/index.php/TLP">tlp</a> - all-in-one tool for power management. Could be a good solution if you don't want to understand every technical detail. <br />
For me right now it's in testing mode, means I'm running it and trying to see advantages against manual PM. <br />
</p>

<p>
To use it without conflicts you need to <a href="https://wiki.archlinux.org/index.php/Systemd#Using_units">mask</a> the systemd service <code>systemd-rfkill.service</code>  <br />
and socket <code>systemd-rfkill.socket</code> to avoid conflicts and assure \proper operation of TLP's radio device switching options. 
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S tlp tlp-rdw
yay -S tlpui-git <span style="color: #75715E;"># </span><span style="color: #75715E;">you can also install GUI (As of October 2018, the software is still in beta)</span>
</pre>
</div>
<p>
<a href="https://linrunner.de/en/tlp/docs/tlp-linux-advanced-power-management.html#arch">Enable services</a> for tlp:
</p>
<div class="org-src-container">
<pre class="src src-sh">sudo systemctl enable tlp.service
sudo systemctl enable tlp-sleep.service
<span style="color: #75715E;"># </span><span style="color: #75715E;">in case if you installed tlp-rdw which is a Radio Device Wizard</span>
sudo systemctl enable NetworkManager-dispatcher.service <span style="color: #75715E;">#</span><span style="color: #75715E;">requires NetworkManager</span>
</pre>
</div>
<div class="attention">
<p>
If you have hybrid graphic with bumblebee, you should tell TLP not to manage GPU by blacklisting it. Also check available settings in <code>/etc/default/tlp</code>. <br />
Blacklist your GPU:
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #FD971F;">RUNTIME_PM_BLACKLIST</span>=<span style="color: #E6DB74;">"01:00.0"</span> <span style="color: #75715E;">#</span><span style="color: #75715E;">you can add more devices with spaces "01:00.0 00:02.0 ..."</span>
</pre>
</div>
<p>
Also I issued hags sometimes when I use <code>tlp stat</code>, one of the solutions is enabling video card with bbswitch <code>tee /proc/acpi/bbswitch&lt;&lt;&lt;ON</code>
</p>

</div>
</div>
</div>
<div id="outline-container-orgf1ffbee" class="outline-4">
<h4 id="orgf1ffbee"><span class="section-number-4">3.8.3</span> ACPI events</h4>
<div class="outline-text-4" id="text-3-8-3">
<p>
<a href="https://wiki.archlinux.org/index.php/Acpi">ACPI</a>(Advanced Configuration and Power Interface) - small program that displays kernel modules for different ACPI parts. <br />
<a href="https://wiki.archlinux.org/index.php/Acpid">acpid</a> is a daemon that handles ACPI events like battery, lid et.c..
</p>
<div class="warning">
<p>
You probably already have systemd-logind. So this acpi + acpid bundle is not needed.
</p>

</div>
</div>
</div>
<div id="outline-container-org60f84c7" class="outline-4">
<h4 id="org60f84c7"><span class="section-number-4">3.8.4</span> Laptop Mode Tools</h4>
<div class="outline-text-4" id="text-3-8-4">
<p>
<a href="https://wiki.archlinux.org/index.php/Laptop_Mode_Tools">LMT</a> — Combined with acpid(<i>note that acpid could conflict with systemd-logind</i>) and <a href="https://wiki.archlinux.org/index.php/CPU_frequency_scaling">CPU frequency scaling</a>, LMT provides most users with a complete laptop power management suite. 
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S laptop-mode-tools-git 
<span style="color: #75715E;"># </span><span style="color: #75715E;">you also can install optional dependencies for lmt</span>
yay -S acpid bluez-utils hdparm sdparm wireless_tools
<span style="color: #75715E;">#</span><span style="color: #75715E;">enable lmt</span>
sudo systemctl enable laptop-mode.service
</pre>
</div>
</div>
</div>
<div id="outline-container-org2d922f0" class="outline-4">
<h4 id="org2d922f0"><span class="section-number-4">3.8.5</span> Diagnosing tools</h4>
<div class="outline-text-4" id="text-3-8-5">
<dl class="org-dl">
<dt>Intel's <a href="https://wiki.archlinux.org/index.php/Powertop">powertop</a> for diagnosing your power state.</dt><dd><p>
         With powertop for some reason I have more watts in use. Don't know if it's a bug or mine fault, anyway not using it now.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S powertop
</pre>
</div></dd>
<dt><a href="https://wiki.archlinux.org/index.php/S.M.A.R.T.">S.M.A.R.T.</a>(<i>Self-Monitoring, Analysis, and Reporting Technology</i>)</dt><dd><p>
         For analyzing and monitoring storage devices.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S smartmontools
</pre>
</div></dd>
<dt><a href="https://github.com/afontenot/i7z">i7z</a></dt><dd><p>
         is an i7 (and now i3, i5) CPU reporting tool for Linux.
</p>
<div class="org-src-container">
<pre class="src src-sh">yay -S i7z 
</pre>
</div></dd>
</dl>
</div>
</div>
<div id="outline-container-orgaafd860" class="outline-4">
<h4 id="orgaafd860"><span class="section-number-4">3.8.6</span> Manual config</h4>
<div class="outline-text-4" id="text-3-8-6">
</div>
<div id="outline-container-org9a86b19" class="outline-5">
<h5 id="org9a86b19"><span class="section-number-5">3.8.6.1</span> Audio powersavings</h5>
<div class="outline-text-5" id="text-3-8-6-1">
<p>
By default, audio power saving is turned off by most drivers. If you not using tlp or any other tool that cover audio you way want to enable audio powersavings manually. <br />
It can be enabled by setting the power<sub>save</sub> parameter - <i>a time (in seconds) to go into idle mode.</i> <br />
To idle the audio card after three seconds, pick one of the settings for your card:
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #75715E;"># </span><span style="color: #75715E;">Check your driver with "lspci"</span>
lspci -k | grep Audio

<span style="color: #75715E;"># </span><span style="color: #75715E;">settings for intel soundcard:</span>
options snd_hda_intel <span style="color: #FD971F;">power_save</span>=<span style="color: #AE81FF;">3</span> 

<span style="color: #75715E;"># </span><span style="color: #75715E;">use the following settings for ac97: </span>
options snd_ac97_codec <span style="color: #FD971F;">power_save</span>=<span style="color: #AE81FF;">3</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org14d0b0a" class="outline-5">
<h5 id="org14d0b0a"><span class="section-number-5">3.8.6.2</span> Blacklisting modules</h5>
<div class="outline-text-5" id="text-3-8-6-2">
<p>
You should blacklist unneeded modules that consumes energy.
</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Nicholas Glazer</p>
<p class="date">Created: 2018-12-07 Fri 23:26</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
